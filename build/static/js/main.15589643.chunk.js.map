{"version":3,"sources":["store/index.js","styles/globalStyle.js","theme.js","AppProviders.js","lib/helpers.js","lib/firebase.js","components/shared/helpers.js","components/Header/DarkButton/Icon.js","components/Header/DarkButton/index.js","components/Header/Logo.js","components/shared/NavLink.js","components/Header/NavLink.js","components/Header/Username/Text.js","components/Header/Username/index.js","components/Header/index.js","categories.js","components/shared/form/Error.js","components/shared/LoadingIndicator/Spinner.js","components/shared/form/Form/Wrapper.js","components/shared/form/Form/index.js","components/shared/form/Input.js","components/shared/form/InputWrapper.js","components/shared/form/Label.js","components/shared/form/RadioGroup/Option.js","components/shared/form/RadioGroup/index.js","components/shared/form/SelectWrapper.js","components/shared/Button.js","components/shared/form/SubmitButton.js","pages/CreatePost.js","components/CategoryMenu/CreatePostButton.js","components/CategoryMenu/Dropdown.js","components/CategoryMenu/index.js","components/Sidebar/CategoryList/Header.js","components/Sidebar/CategoryList/Item.js","components/Sidebar/CategoryList/index.js","components/Sidebar/CreatePostButton.js","components/Sidebar/index.js","components/CommentForm/SubmitButton.js","components/CommentForm/index.js","components/shared/Markdown/renderers/heading.js","components/shared/Markdown/renderers/link.js","components/shared/Markdown/renderers/code.js","components/shared/Markdown/renderers/inlineCode.js","components/shared/Markdown/renderers/table.js","components/shared/Markdown/renderers/tableCell.js","components/shared/Markdown/renderers/thematicBreak.js","components/shared/Markdown/renderers/list.js","components/shared/Markdown/renderers/index.js","components/shared/Markdown/index.js","components/CommentList/Content.js","components/shared/Author.js","components/shared/DeleteButton.js","components/CommentList/Detail.js","components/CommentList/Item.js","components/CommentList/index.js","components/Post/Content/Detail.js","components/Post/Content/FullText.js","components/Post/Content/Preview.js","components/Post/Content/Title.js","components/Post/Content/index.js","components/Post/Vote/Button.js","components/Post/Vote/Downvote.js","components/Post/Vote/Upvote.js","components/Post/Vote/index.js","components/Post/index.js","components/shared/Empty.js","components/shared/LoadingIndicator/Box.js","pages/PostDetail.js","lib/hooks.js","pages/PostList.js","pages/Home.js","pages/Login.js","pages/Signup.js","App.js","serviceWorker.js","lib/date-config.js","index.js"],"names":["useStore","create","persist","set","isDarkTheme","toggleTheme","state","user","setUser","resetUser","name","GlobalStyle","createGlobalStyle","props","theme","pageBackground","constants","error","vote","upvote","downvote","dark","normalText","mutedText","border","accent","voteButtonHover","foreground","activeBackground","inputBackground","shadow","light","isDark","AppProviders","children","history","useHistory","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","process","client","position","getUpvotePercentage","votes","upvoteCount","Object","values","reduce","acc","val","totalVotes","keys","length","Math","round","getPostScore","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","db","getFirestore","getTimestamp","serverTimestamp","signupUser","a","email","password","username","createUserWithEmailAndPassword","userCreds","createUser","userDoc","doc","uid","setDoc","col","collection","q","query","where","getDocs","empty","loginUser","signInWithEmailAndPassword","logOut","signOut","createPost","post","postCol","addDoc","id","postDoc","getDoc","newPost","data","getDocuments","ref","snap","docs","map","reference","postId","postRef","exists","orderBy","posts","category","deletePost","docRef","deleteDoc","deletedPost","createComment","comment","comments","deleteComment","commentId","deletedDoc","size","toggleVote","userId","value","runTransaction","transaction","get","score","upvotePercentage","update","smallFont","css","wideFont","fadeKeyframes","keyframes","fade","transition","str","forEach","item","index","concat","headerItem","link","underline","overflow","Icon","styled","svg","HeaderDarkButtonIcon","viewBox","d","transform","DarkButton","span","HeaderDarkButton","s","onClick","Logo","Link","HeaderLogo","to","className","xmlns","height","width","fill","cx","cy","r","src","alt","activeClassName","NavLink","RouterNavLink","attrs","HeaderNavLink","HeaderUsernameText","Wrapper","HeaderUsername","header","Header","shallow","mutation","useMutation","onSuccess","push","toast","icon","onError","mutate","categories","Error","spin","LoadingIndicatorSpinner","div","FormWrapper","wide","StyledForm","form","loading","Form","Input","input","InputWrapper","Label","label","active","RadioGroupOption","type","onChange","htmlFor","RadioGroupWrapper","SelectWrapper","flex","Button","button","SubmitButton","postTypes","CreatePost","useState","setType","useForm","mode","register","handleSubmit","errors","formState","onSubmit","title","url","text","views","created","author","option","key","required","as","defaulValue","c","message","minLength","maxLength","placeholder","validate","isURL","placeholeder","rows","CreatePostButton","CategoryMenuCreatePostButton","Dropdown","select","CategoryMenuDropdown","event","selected","target","Menu","nav","CategoryMenu","SidebarCategoryListHeader","Item","SidebarCategoryListItem","isAll","exact","CategoryList","SidebarCategoryList","SidebarCreatePostButton","aside","Sidebar","StyledSubmitButton","CommentFormSubmitButton","CommentFormTextArea","CommentForm","reset","useQueryClient","invalidateQueries","success","commentText","body","headingSizes","h1","h2","h3","h4","h5","h6","Heading","level","headingRenderer","levelString","linkRenderer","Pre","pre","codeRenderer","InlineCode","code","inlineCodeRenderer","Table","table","tableRenderer","tableHeader","TableCell","td","isHeader","tableCellRenderer","ThematicBreak","hr","thematicBreakRenderer","List","ul","renderers","heading","inlineCode","tableCell","thematicBreak","list","ordered","html","StyledReactMarkdown","ReactMarkdown","allowed","Markdown","source","plugins","breaks","allowedTypes","unwrapDisallowed","Content","CommentContent","StyledLink","Author","DeleteButton","Timestamp","CommentDetail","isAuthor","useParams","dayjs","toDate","fromNow","CommentListItem","details","CommentList","PostContentDetail","useQuery","getCommentCount","commentCount","PostContentFullText","PostContentPreview","full","PostContentTitle","renderTitle","href","PostContent","renderContent","PostVoteButton","canVote","PostVoteDownvote","didVote","PostVoteUpvote","PostVote","didUpvote","didDownvote","location","useLocation","isHomePage","pathname","Post","Empty","Box","LoadingIndicatorBox","PostWrapper","PostDetail","useEffect","usePostViewCount","getPost","isLoading","PostDetailPost","PostDetailInfoBar","PostDetailCommentSection","getCommentsByPostId","li","PostList","getPostsByUsername","getPostsByCategory","getPosts","PostListItem","HomeMainSection","main","Home","component","path","Login","replace","Signup","getValues","window","reload","checkIfUsernameTaken","confirm","App","getUser","userRef","unsubscribe","onAuthStateChanged","useAuthUser","Boolean","hostname","match","extend","relativeTime","locale","future","past","ss","m","mm","h","hh","dd","M","MM","y","yy","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"wNAoBeA,EAjBEC,IACfC,mBACE,SAACC,GAAD,MAAU,CACRC,aAAa,EACbC,YAAa,WACXF,GAAI,SAACG,GAAD,MAAY,CAAEF,aAAcE,EAAMF,iBAExCG,KAAM,KACNC,QAAS,SAACD,GAAD,OAAUJ,EAAI,CAAEI,UACzBE,UAAW,kBAAMN,EAAI,CAAEI,KAAM,WAE/B,CACEG,KAAM,iB,eCPGC,EANKC,YAAH,uEAEO,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,kB,QCJvCC,EAAY,CAChBC,MAAO,UACPC,KAAM,UACNC,OAAQ,UACRC,SAAU,WAGNC,EAAI,2BACLL,GADK,IAERM,WAAY,UACZC,UAAW,UACXC,OAAQ,UACRC,OAAQ,UACRV,eAAgB,UAChBW,gBAAiB,UACjBC,WAAY,UACZC,iBAAkB,UAClBC,gBAAiB,UACjBC,OAAQ,uBAGJC,EAAK,2BACNf,GADM,IAETM,WAAY,UACZC,UAAW,UACXC,OAAQ,UACRC,OAAQ,UACRV,eAAgB,UAChBW,gBAAiB,UACjBC,WAAY,UACZC,iBAAkB,UAClBC,gBAAiB,UACjBC,OAAQ,wBAKKhB,EAFD,SAACkB,GAAD,OAAaA,EAASX,EAAOU,G,OC1B5B,SAASE,EAAT,GAAqC,IAAbC,EAAY,EAAZA,SAC/BC,EAAUC,cACVC,EAAc,IAAIC,cAAY,CAClCC,eAAgB,CACdC,QAAS,CACPC,sBAAsBC,MAKtBtC,EAAcJ,GAAS,SAACM,GAAD,OAAWA,EAAMF,eAE9C,OACE,eAAC,sBAAD,CAAqBuC,OAAQN,EAA7B,UACE,cAAC,qBAAD,IACA,cAAC,IAAD,CAASO,SAAS,eAClB,eAAC,IAAD,CAAe9B,MAAOA,EAAMV,GAA5B,UACE,cAAC,EAAD,IACA,cAAC,IAAD,CAAe+B,QAASA,EAAxB,SAAkCD,U,8GC3BnC,SAASW,EAAoBC,GAClC,IAAMC,EAAcC,OAAOC,OAAOH,GAAOI,QAAO,SAACC,EAAKC,GACpD,OAAY,IAARA,EACMD,EAAO,EAEVA,IACN,GACGE,EAAaL,OAAOM,KAAKR,GAAOS,OACtC,OAAsB,IAAfF,EAAmBG,KAAKC,MAAqB,IAAdV,EAAqBM,GAAc,EAGpE,SAASK,EAAaZ,GACzB,OAAOE,OAAOC,OAAOH,GAAOI,QAAO,SAACC,EAAKC,GAAN,OAAeD,EAAOC,IAAM,GCoBnE,I,cAUMO,EAAMC,YAVW,CACrBC,OAAQ,0CACRC,WAAY,oCACZC,UAAW,oBACXC,cAAe,gCACfC,kBAAmB,eACnBC,MAAO,8CAKHC,EAAOC,YAAQT,GACfU,EAAKC,YAAaX,GACXY,EAAeC,IAErB,SAAeC,EAAtB,kC,4CAAO,mCAAAC,EAAA,6DAA4BC,EAA5B,EAA4BA,MAAOC,EAAnC,EAAmCA,SAAUC,EAA7C,EAA6CA,SAA7C,SACmBC,YAA+BX,EAAMQ,EAAOC,GAD/D,cACCG,EADD,gBAECC,EAAW,CACfzE,KAAMwE,EAAUxE,KAChBsE,aAJG,4C,sBAQA,SAAeG,EAAtB,kC,4CAAO,iCAAAN,EAAA,6DAA4BnE,EAA5B,EAA4BA,KAAMsE,EAAlC,EAAkCA,SACjCI,EAAUC,YAAIb,EAAI,QAAS9D,EAAK4E,KADjC,SAECC,YAAOH,EAAS,CACpBE,IAAK5E,EAAK4E,IACVR,MAAOpE,EAAKoE,MACZE,aALG,4C,kEASA,WAAoCA,GAApC,qBAAAH,EAAA,6DACCW,EAAMC,YAAWjB,EAAI,SACrBkB,EAAIC,YAAMH,EAAKI,YAAM,WAAY,KAAMZ,IAFxC,SAGmBa,YAAQH,GAH3B,uBAGGI,EAHH,EAGGA,MAHH,kBAIEA,GAAS,mBAJX,4C,sBAkCA,SAAeC,EAAtB,mC,8CAAO,+BAAAlB,EAAA,6DAA2BC,EAA3B,EAA2BA,MAAOC,EAAlC,EAAkCA,SAAlC,SACQiB,YAA2B1B,EAAMQ,EAAOC,GADhD,oF,sBAIA,SAAekB,KAAtB,gC,8CAAO,sBAAApB,EAAA,sEACQqB,YAAQ5B,GADhB,oF,sBAIA,SAAe6B,GAAtB,mC,8CAAO,WAA0BC,GAA1B,uBAAAvB,EAAA,6DACCwB,EAAUZ,YAAWjB,EAAI,SAD1B,SAEgB8B,YAAOD,EAASD,GAFhC,uBAEGG,EAFH,EAEGA,GACFC,EAAUnB,YAAIb,EAAI,QAAS+B,GAH5B,SAIiBE,YAAOD,GAJxB,cAICE,EAJD,sCAKIH,MAAOG,EAAQC,SALnB,6C,sBAQA,SAAeC,GAAtB,mC,8CAAO,WAA4BC,GAA5B,iBAAAhC,EAAA,sEACcgB,YAAQgB,GADtB,cACCC,EADD,OAECC,EAAOD,EAAKC,KAAKC,KAAI,SAAC3B,GAAD,oBACzBkB,GAAIlB,EAAIkB,GACRU,UAAW5B,EAAIwB,KACZxB,EAAIsB,WALJ,kBAOEI,GAPF,4C,oEAUA,WAAuBG,GAAvB,iBAAArC,EAAA,6DACCsC,EAAU9B,YAAIb,EAAI,QAAS0C,GAD5B,SAEiBT,YAAOU,GAFxB,cAECX,EAFD,yBAGEA,EAAQY,SAAR,aAAqBb,GAAIC,EAAQD,IAAOC,EAAQG,QAAW,MAH7D,4C,oEAMA,gCAAA9B,EAAA,6DACCW,EAAMC,YAAWjB,EAAI,SACrBkB,EAAIC,YAAMH,EAAK6B,YAAQ,QAAS,SAFjC,SAGeT,GAAalB,GAH5B,cAGC4B,EAHD,yBAIEA,GAJF,4C,oEAOA,WAAkCtC,GAAlC,mBAAAH,EAAA,6DACCW,EAAMC,YAAWjB,EAAI,SACrBkB,EAAIC,YAAMH,EAAKI,YAAM,kBAAmB,KAAMZ,IAF/C,SAGe4B,GAAalB,GAH5B,cAGC4B,EAHD,yBAIEA,GAJF,4C,oEAOA,WAAkCC,GAAlC,mBAAA1C,EAAA,6DACCW,EAAMC,YAAWjB,EAAI,SACrBkB,EAAIC,YACRH,EACAI,YAAM,WAAY,KAAM2B,GACxBF,YAAQ,QAAS,SAEbC,EAAQV,GAAalB,GAPtB,kBAQE4B,GARF,4C,sBAWA,SAAeE,GAAtB,mC,8CAAO,WAA0BN,GAA1B,iBAAArC,EAAA,6DACG4C,EAASpC,YAAIb,EAAI,QAAS0C,GAD7B,SAEuBQ,YAAUD,GAFjC,cAEGE,EAFH,yBAGIA,GAHJ,4C,sBAMA,SAAeC,GAAtB,mC,8CAAO,WAA6BC,GAA7B,eAAAhD,EAAA,6DACGW,EAAMC,YAAWjB,EAAI,QAASqD,EAAQX,OAAQ,YADjD,SAEsBZ,YAAOd,EAAKqC,GAFlC,0D,oEAKA,WAAmCX,GAAnC,mBAAArC,EAAA,6DACGW,EAAMC,YAAWjB,EAAI,QAAS0C,EAAQ,YACtCxB,EAAIC,YAAMH,EAAK6B,YAAQ,UAAW,SAFrC,SAGoBT,GAAalB,GAHjC,cAGGoC,EAHH,yBAIIA,GAJJ,4C,sBASA,SAAeC,GAAtB,mC,8CAAO,mCAAAlD,EAAA,6DAA+BqC,EAA/B,EAA+BA,OAAQc,EAAvC,EAAuCA,UACpCP,EAASpC,YAAIb,EAAI,QAAS0C,EAAQ,WAAYc,GADjD,SAEsBN,YAAUD,GAFhC,cAEGQ,EAFH,yBAGIA,GAHJ,4C,oEAiBA,WAA+Bf,GAA/B,mBAAArC,EAAA,6DACGW,EAAMC,YAAWjB,EAAI,QAAS0C,EAAQ,YADzC,SAEoBrB,YAAQL,GAF5B,uBAEK0C,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,4C,sBAMA,SAAeC,GAAtB,mC,8CAAO,WAA0B9G,GAA1B,qBAAAwD,EAAA,6DACGqC,EAA0B7F,EAA1B6F,OAAQkB,EAAkB/G,EAAlB+G,OAAQC,EAAUhH,EAAVgH,MAClBlB,EAAU9B,YAAIb,EAAI,QAAS0C,GAF5B,SAGCoB,YAAe9D,EAAD,uCAAK,WAAO+D,GAAP,qBAAA1D,EAAA,sEACD0D,EAAYC,IAAIrB,GADf,QACjBX,EADiB,QAEXY,WACJnE,EADc,eACDuD,EAAQG,OAAO1D,OACjBA,EAAMmF,KAAYC,SAE1BpF,EAAMmF,GAEbnF,EAAMmF,GAAUC,EAEZI,EAAQ5E,EAAaZ,GACrByF,EAAmB1F,EAAoBC,GAC7CsF,EAAYI,OAAOxB,EAAS,CAAElE,QAAOyF,mBAAkBD,WAZlC,2CAAL,uDAHf,2C,yBCpMA,IAAMG,GAAYC,YAAH,mGAMTC,GAAWD,YAAH,mFACjBD,IAKEG,GAAgBC,YAAH,0EAKNC,GAAOJ,YAAH,oDACFE,IAGFG,GAAa,WAAe,IAAD,uBAAVlI,EAAU,yBAAVA,EAAU,gBACtC,IAAImI,EAAM,eAMV,OALAnI,EAAMoI,SAAQ,SAACC,EAAMC,GACnBH,EAAMA,EAAII,OAAJ,UACDF,EADC,qBACgBC,IAAUtI,EAAM0C,OAAS,EAAI,IAAM,UAGpDyF,GAGIK,GAAaX,YAAH,wKAWVY,GAAO,SAACzI,GAAD,OAAW6H,YAAV,IAAD,2JAChBK,GAAW,UAIJ,SAAClI,GAAD,OAAWA,EAAMC,MAAMQ,aAG5BT,EAAM0I,WAAa,8BACZ,SAAC1I,GAAD,OAAWA,EAAMC,MAAMW,WAIvB+H,GAAWd,YAAH,qGCtDfe,GAAOC,IAAOC,IAAV,2DAAGD,CAAH,kGAKJX,GAAW,SAEL,SAAClI,GAAD,OAAWA,EAAMC,MAAMS,aAkBpBqI,GATc,kBAC3B,cAACH,GAAD,CAAMI,QAAQ,YAAd,SACE,sBACEC,EAAE,mWACFC,UAAU,sBClBVC,GAAaN,IAAOO,KAAV,gEAAGP,CAAH,kFACZL,IAOU,SAACxI,GAAD,OAAWA,EAAMC,MAAMW,UAKtB,SAASyI,KACtB,IAAM7J,EAAcL,GAAS,SAACmK,GAAD,OAAOA,EAAE9J,eACtC,OACE,cAAC2J,GAAD,CAAYI,QAAS/J,EAArB,SACE,cAAC,GAAD,MCjBN,IAAMgK,GAAOX,YAAOY,KAAV,0DAAGZ,CAAH,6MACNL,IAKO,SAACxI,GAAD,OAAWA,EAAMC,MAAMQ,cAiEnBiJ,GAlDI,WACjB,IAAMnK,EAAcJ,GAAS,SAACmK,GAAD,OAAOA,EAAE/J,eACtC,OACE,mCACGA,EACC,eAACiK,GAAD,CAAMG,GAAG,IAAT,UACE,qBACEC,UAAU,mBACVC,MAAM,6BACNb,QAAQ,YACRc,OAAO,KACPC,MAAM,KALR,SAOE,8BACE,wBAAQC,KAAK,UAAUC,GAAG,KAAKC,GAAG,KAAKC,EAAE,OACzC,sBACEH,KAAK,OACLf,EAAE,ijBAIR,qBACEW,UAAU,eACVZ,QAAQ,YACRa,MAAM,6BAHR,SAKE,oBAAGG,KAAK,UAAR,UACE,sBAAMf,EAAE,wQACR,wBAAQe,KAAK,UAAUC,GAAG,QAAQC,GAAG,OAAOC,EAAE,SAC9C,sBAAMlB,EAAE,sEACR,sBAAMA,EAAE,6SACR,sBAAMA,EAAE,iTACR,sBAAMA,EAAE,+VACR,sBAAMA,EAAE,6PAKd,cAACO,GAAD,CAAMG,GAAG,IAAT,SACE,qBACEC,UAAU,gBACVQ,IAAI,sEACJC,IAAI,UChEVC,GAAkB,SAwBTC,GAtBC1B,YAAO2B,KAAeC,MAAM,CAAEH,qBAAjC,6DAAGzB,CAAH,8HACTJ,GAKEP,GAAW,WAOXoC,IACkB,SAACtK,GAAD,OAAWA,EAAMC,MAAMc,oBCiBhC2J,GAjCO7B,YAAO0B,IAAV,4EAAG1B,CAAH,kQACfL,GACAV,GACAW,IAIO,SAAAzI,GAAK,OAAIA,EAAMC,MAAMS,YAG1BwH,GAAW,UAAW,wBAQG,SAAAlI,GAAK,OAAIA,EAAMC,MAAMW,UAWrB,SAAAZ,GAAK,OAAIA,EAAMC,MAAMW,UCrBrC+J,GATY9B,IAAOO,KAAV,+EAAGP,CAAH,6EACpBf,IAKO,SAAA9H,GAAK,OAAIA,EAAMC,MAAMS,aCL1BkK,GAAU/B,YAAO6B,IAAV,uEAAG7B,CAAH,qFAEc,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UACtB,SAACX,GAAD,OAAWA,EAAMC,MAAMU,UAIpC,SAASkK,GAAT,GAAqC,IAAZ7G,EAAW,EAAXA,SACtC,OACE,cAAC4G,GAAD,CAASjB,GAAE,aAAQ3F,GAAnB,SACE,cAAC,GAAD,UAAqBA,MCH3B,IAAM4G,GAAU/B,IAAOiC,OAAV,qEAAGjC,CAAH,+SAOc,SAAC7I,GAAD,OAAWA,EAAMC,MAAMgB,UACrB,SAACjB,GAAD,OAAWA,EAAMC,MAAMU,UAG9B,SAACX,GAAD,OAAWA,EAAMC,MAAMa,cAa9B,SAASiK,GAAT,GAA4B,IAAXzJ,EAAU,EAAVA,QAC9B,EAA0BnC,GAAS,SAAAmK,GAAC,MAAI,CAACA,EAAE5J,KAAM4J,EAAE1J,aAAYoL,KAA/D,mBAAOtL,EAAP,KAAaE,EAAb,KAEMqL,EAAWC,sBAAYjG,GAAQ,CACnCkG,UAAW,WACTvL,IACA0B,EAAQ8J,KAAK,UACbC,YAAM,aAAc,CAClBC,KAAM,kBAGVC,QAAS,WACPF,IAAMjL,MAAM,wBAIhB,OAAO,eAAC,GAAD,WACL,cAAC,GAAD,IACA,cAACiJ,GAAD,IACC3J,EACC,qCACF,cAACmL,GAAD,CAAgB7G,SAAUtE,EAAKsE,WAC/B,cAAC,GAAD,CAAeuF,QAAS0B,EAASO,OAAQ7B,GAAG,IAA5C,wBAGE,qCACF,cAAC,GAAD,CAAeA,GAAG,SAAlB,oBACA,cAAC,GAAD,CAAeA,GAAG,UAAlB,2B,kBCrDW8B,GATI,CACjB,cACA,OACA,SACA,UACA,QACA,SCOaC,GAVD7C,IAAOO,KAAV,2DAAGP,CAAH,uDACPZ,GACAL,IAKO,SAAC5H,GAAD,OAAWA,EAAMC,MAAMG,S,SCP5BuL,GAAO3D,YAAH,0GAsBK4D,GAZiB/C,IAAOgD,IAAV,uFAAGhD,CAAH,8JAId8C,IACS,SAAA3L,GAAK,OAAIA,EAAMC,MAAMW,OAAS,QAChC,SAAAZ,GAAK,OAAIA,EAAMC,MAAMW,UCI5BkL,GArBKjD,IAAOgD,IAAV,0EAAGhD,CAAH,+PAIK,SAAA7I,GAAK,OAAIA,EAAMC,MAAMU,UAE5B,SAAAX,GAAK,OAAKA,EAAM+L,KAAO,QAAU,WAE1B,SAAA/L,GAAK,OAAIA,EAAMC,MAAMa,cAMpB,SAAAd,GAAK,OAAKA,EAAM+L,KAAO,QAAU,W,wBCXlDC,GAAanD,IAAOoD,KAAV,sEAAGpD,CAAH,uEACZX,GAAW,WAMX,SAAClI,GAAD,OACAA,EAAMkM,SACN,yEAUWC,GAPF,SAAC,GAAD,IAAGvC,EAAH,EAAGA,UAAWmC,EAAd,EAAcA,KAAS/L,EAAvB,0BACX,eAAC,GAAD,CAAa4J,UAAWA,EAAWmC,KAAMA,EAAzC,UACE,cAACC,GAAD,eAAgBhM,IACfA,EAAMkM,SAAW,cAAC,GAAD,QCqBPE,GAtCDvD,IAAOwD,MAAV,4DAAGxD,CAAH,oSACPX,GAAW,SAAU,eAEX,SAAClI,GAAD,OACVA,EAAMI,MAAQJ,EAAMC,MAAMG,MAAQJ,EAAMC,MAAMW,UACpC,SAACZ,GAAD,OACVA,EAAMI,MAAQJ,EAAMC,MAAMG,MAAQ,KAAOJ,EAAMC,MAAMW,OAAS,QAG9D,SAACZ,GAAD,OACAA,EAAMI,MAAN,gFAKoBJ,EAAMC,MAAMU,OALhC,WAUkB,SAACX,GAAD,OAAWA,EAAMC,MAAMe,mBAElC,SAAChB,GAAD,OAAWA,EAAMC,MAAMQ,cCjBnB6L,GANMzD,IAAOgD,IAAV,mEAAGhD,CAAH,sDCSH0D,GARD1D,IAAO2D,MAAV,4DAAG3D,CAAH,mDACPjB,IAIO,SAAC5H,GAAD,OAAWA,EAAMC,MAAMS,aCL5B6L,GAAQ1D,IAAO2D,MAAV,ggBACPtE,GAAW,QAAS,oBACpBJ,IAIkB,SAAC9H,GAAD,OAAWA,EAAMC,MAAMW,UAG7B,SAACZ,GAAD,OAAYA,EAAMyM,OAASzM,EAAMC,MAAMW,OAAS,iBAGrD,SAACZ,GAAD,OAAYA,EAAMyM,OAAS,UAAYzM,EAAMC,MAAMW,UAK1C,SAACZ,GAAD,OAAWA,EAAMC,MAAMW,UAgC5B8L,GAdU,SAAC1M,GAAD,OACvB,qCACE,uBACE2M,KAAK,QACL9M,KAAK,aACL0F,GAAIvF,EAAMqH,MACVuF,SAAU5M,EAAMuJ,UAElB,cAAC,GAAD,CAAOsD,QAAS7M,EAAMqH,MAAOoF,OAAQzM,EAAMyM,OAA3C,SACGzM,EAAMwM,YC5CAM,GAAoBjE,IAAOgD,IAAV,kJAe9B,ICEekB,GAlBOlE,IAAOgD,IAAV,oEAAGhD,CAAH,4OAEf,SAAA7I,GAAK,OAAIA,EAAMgN,MAAQ,aAQI,SAAAhN,GAAK,OAAIA,EAAMC,MAAMW,UACtB,SAAAZ,GAAK,OAAIA,EAAMC,MAAMW,UCepCqM,GAzBApE,IAAOqE,OAAV,6DAAGrE,CAAH,4NACRX,GAAW,SAAU,cACrBJ,IAKkB,SAAC9H,GAAD,OAAWA,EAAMC,MAAMW,UAcjB,SAACZ,GAAD,OAAWA,EAAMC,MAAMW,OAAS,QCjB7CuM,GAJMtE,YAAOoE,IAAV,kEAAGpE,CAAH,0B,8BCeZuE,GAAY,CAChB,CACEZ,MAAO,OACPnF,MAAO,QAET,CACEmF,MAAO,OACPnF,MAAO,SAII,SAASgG,GAAT,GAAkC,IAAD,QAAX/L,EAAW,EAAXA,QACnC,EAAwBgM,mBAAS,QAAjC,mBAAOX,EAAP,KAAaY,EAAb,KACM7N,EAAOP,GAAS,SAACmK,GAAD,OAAOA,EAAE5J,QAE/B,EAII8N,aAAQ,CAAEC,KAAM,WAHlBC,EADF,EACEA,SACAC,EAFF,EAEEA,aACaC,EAHf,EAGEC,UAAaD,OAGT3C,EAAWC,sBAAY/F,GAAY,CACvCgG,UAAW,YAAuB,IAApB5E,EAAmB,EAAnBA,SAAUhB,EAAS,EAATA,GACtBjE,EAAQ8J,KAAR,aAAmB7E,EAAnB,YAA+BhB,OA4BnC,OACE,eAAC,GAAD,CAAMuI,SAAUH,GAzBD,SAAChI,GAChB,IAAQoI,EAA+BpI,EAA/BoI,MAAOC,EAAwBrI,EAAxBqI,IAAKC,EAAmBtI,EAAnBsI,KAAM1H,EAAaZ,EAAbY,SAC1B,IAAK7G,EACH,MAAM,IAAIgM,GAAM,wBAElB,IAAMtG,EAAO,CACXmB,WACAoG,OACAoB,QACAG,MAAO,EACPzG,MAAO,EACP0G,QAASzK,IACTgE,iBAAkB,IAClBzF,MAAM,gBAAIvC,EAAK4E,IAAM,GACrB8J,OAAQ,CAAE9J,IAAK5E,EAAK4E,IAAKN,SAAUtE,EAAKsE,WAE7B,SAAT2I,EACFvH,EAAK6I,KAAOA,EAEZ7I,EAAK4I,IAAMA,EAEb/C,EAASO,OAAOpG,MAIwB2G,MAAI,EAA5C,UACE,cAAC,GAAD,UACE,cAACe,GAAD,UACGM,GAAUpH,KAAI,SAACqI,EAAQ/F,GAAT,OACb,wBAAC,GAAD,2BACM+F,GADN,IAEEC,IAAKhG,EACLiB,QAAS,kBAAMgE,EAAQc,EAAOhH,QAC9BoF,OAAQ4B,EAAOhH,QAAUsF,YAKjC,eAAC,GAAD,WACE,cAAC,GAAD,uBACA,cAAC,GAAD,UACE,cAAC,GAAD,2BACMe,EAAS,WAAY,CACvBa,SAAU,uBAFd,IAIE5B,KAAK,SACL6B,GAAG,SACHC,YAAahD,GAAW,GAN1B,SAQGA,GAAWzF,KAAI,SAAC0I,EAAGpG,GAAJ,OACd,wBAAoBjB,MAAOqH,EAA3B,SACGA,GADUpG,WAMnB,cAAC,GAAD,oBAAQsF,EAAOrH,gBAAf,aAAQ,EAAiBoI,aAE3B,eAAC,GAAD,WACE,cAAC,GAAD,oBACA,cAAC,GAAD,2BACMjB,EAAS,QAAS,CACpBa,SAAU,oBACVK,UAAW,CACTvH,MAAO,EACPsH,QAAS,iCAEXE,UAAW,CACTxH,MAAO,GACPsH,QAAS,sCATf,IAYEhC,KAAK,OACLmC,YAAY,WAEd,cAAC,GAAD,oBAAQlB,EAAOG,aAAf,aAAQ,EAAcY,aAEd,SAAThC,GACC,eAAC,GAAD,WACE,cAAC,GAAD,kBACA,cAAC,GAAD,2BACMe,EAAS,MAAO,CAClBqB,SAAU,SAAC1H,GACT,OAAO2H,KAAM3H,GAAS,2BAH5B,IAME4H,aAAa,SAEf,cAAC,GAAD,oBAAQrB,EAAOI,WAAf,aAAQ,EAAYW,aAGd,SAAThC,GACC,eAAC,GAAD,WACE,cAAC,GAAD,mBACA,cAAC,GAAD,2BACMe,EAAS,OAAQ,CACnBa,SAAU,mBACVK,UAAW,CACTvH,MAAO,EACPsH,QAAS,iCAEXE,UAAW,CACTxH,MAAO,IACPsH,QAAS,0CATf,IAYEH,GAAG,WACHM,YAAY,OACZI,KAAK,OAEP,cAAC,GAAD,oBAAQtB,EAAOK,YAAf,aAAQ,EAAaU,aAGzB,cAAC,GAAD,CAAchC,KAAK,SAAnB,4BC1JN,IAAMwC,GAAmBtG,YAAOoE,IAAV,sEAAGpE,CAAH,0FAQP,SAASuG,KACtB,OACE,cAACD,GAAD,CAAkBX,GAAI/E,IAAME,GAAG,cAA/B,yB,aCVE0F,GAAWxG,IAAOyG,OAAV,8DAAGzG,CAAH,4HAKQ,SAAC7I,GAAD,OAAWA,EAAMC,MAAMa,cAElC,SAACd,GAAD,OAAWA,EAAMC,MAAMQ,cAInB,SAAS8O,GAAT,GAAsD,IAAtBhJ,EAAqB,EAArBA,SAAUjF,EAAW,EAAXA,QAUvD,OACE,cAAC,GAAD,CAAe0L,MAAI,EAAnB,SACE,cAACqC,GAAD,CAAUhI,MAAOd,EAAUqG,SAX/B,SAAkB4C,GAChB,IAAMC,EAAWD,EAAME,OAAOrI,MAE9B,GAAIoI,IAAalJ,EAAU,CACzB,IAAMyH,EAAmB,QAAbyB,EAAqB,IAArB,aAAiCA,GAC7CnO,EAAQ8J,KAAK4C,KAMb,SACG,CAAC,OAAD,oBAAWvC,KAAYzF,KAAI,SAACO,EAAU+B,GAAX,OAC1B,wBAAoBjB,MAAOd,EAA3B,SACGA,GADU+B,UCxBvB,IAAMqH,GAAO9G,IAAO+G,IAAV,yEAAG/G,CAAH,kHAEY,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAS9B,SAASkP,KACtB,IAAMnQ,EAAOP,GAAS,SAAAmK,GAAC,OAAIA,EAAE5J,QAC7B,OACE,eAACiQ,GAAD,WACE,cAACJ,GAAD,IACC7P,GAAQ,cAAC0P,GAAD,OClBf,IAAMrE,GAASlC,IAAOO,KAAV,6DAAGP,CAAH,gEACRf,IAKO,SAAC9H,GAAD,OAAWA,EAAMC,MAAMS,aAGnB,SAASoP,KACtB,OAAO,cAAC,GAAD,yBCVT,IAAMC,GAAOlH,YAAO0B,IAAV,0DAAG1B,CAAH,6HAIC,SAAC7I,GAAD,OAAWA,EAAMC,MAAMQ,cAML,SAACT,GAAD,OAAWA,EAAMC,MAAMW,UAIrC,SAASoP,GAAT,GAAgD,IAAbzJ,EAAY,EAAZA,SAC1C0J,EAAqB,QAAb1J,EAEd,OACE,cAACwJ,GAAD,CAAMG,MAAOD,EAAOtG,GAAIsG,EAAQ,IAAH,aAAe1J,GAA5C,SACGA,ICjBP,IAAM4J,GAAetH,IAAO+G,IAAV,kEAAG/G,CAAH,yCAKH,SAASuH,KACtB,OACE,eAACD,GAAD,WACE,cAACL,GAAD,IACC,CAAC,OAAD,oBAAWrE,KAAYzF,KAAI,SAACO,EAAU+B,GAAX,OAC1B,cAAC0H,GAAD,CAAqCzJ,SAAUA,GAAjB+B,SCXtC,IAAM6G,GAAmBtG,YAAOoE,IAAV,sEAAGpE,CAAH,oFAOP,SAASwH,KACtB,OACE,cAAC,GAAD,CAAkB7B,GAAI/E,IAAME,GAAG,cAA/B,yBCRJ,IAAMiB,GAAU/B,IAAOyH,MAAV,sEAAGzH,CAAH,8KAKS,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAEvB,SAACX,GAAD,OAAWA,EAAMC,MAAMa,cAO9B,SAASyP,KACtB,IAAM7Q,EAAOP,GAAS,SAACmK,GAAD,OAAOA,EAAE5J,QAC/B,OACE,eAAC,GAAD,WACGA,GAAQ,cAAC2Q,GAAD,IACT,cAACD,GAAD,OCrBN,IAAMI,GAAqB3H,YAAOsE,IAAV,sFAAGtE,CAAH,kCAKT,SAAS4H,KACtB,OAAO,cAACD,GAAD,CAAoB7D,KAAK,SAAzB,oBCGT,IAAMX,GAAanD,YAAOsD,IAAV,6EAAGtD,CAAH,uWACZX,GAAW,SAAU,eAGH,SAAClI,GAAD,OAAWA,EAAMC,MAAMU,UAOnB,SAACX,GAAD,OAAWA,EAAMC,MAAMW,UAKzB,SAACZ,GAAD,OAAWA,EAAMC,MAAMW,UACnB,SAACZ,GAAD,OAAWA,EAAMC,MAAMW,OAAS,QAiBtD8P,GAAsB7H,YAAOuD,IAAV,sFAAGvD,CAAH,0JAGI,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAOrB,SAACX,GAAD,OAAWA,EAAMC,MAAMU,UAKvC,SAASgQ,GAAT,GAAkC,IAAD,EAAVzK,EAAU,EAAVA,OAC9BxG,EAAOP,GAAS,SAACmK,GAAD,OAAOA,EAAE5J,QAC/B,EAKI8N,aAAQ,CAAEC,KAAM,WAJlBC,EADF,EACEA,SACAC,EAFF,EAEEA,aACAiD,EAHF,EAGEA,MACahD,EAJf,EAIEC,UAAaD,OAGTpM,EAAcqP,2BAEd5F,EAAWC,sBAAYtE,GAAe,CAC1CuE,UAAW,WACT3J,EAAYsP,kBAAkB,CAAC,WAAY5K,IAC3CmF,IAAM0F,QAAQ,mBACdH,OAgBJ,OACE,eAAC,GAAD,CAAY9C,SAAUH,GAbP,SAAC,GAAqB,IAAnBqD,EAAkB,EAAlBA,YAClB/F,EAASO,OAAO,CACdtF,SACA+K,KAAMD,EACN7C,QAASzK,IACT0K,OAAQ,CACNpK,SAAUtE,EAAKsE,SACfM,IAAK5E,EAAK4E,UAMd,UACE,cAACoM,GAAD,2BACMhD,EAAS,cAAe,CAC1Ba,SAAU,2BACVK,UAAW,CACTvH,MAAO,EACPsH,QAAS,iCAEXE,UAAW,CACTxH,MAAO,IACPsH,QAAS,0CATf,IAYEH,GAAG,WACHM,YAAY,qBACZI,KAAK,OAEP,cAAC,GAAD,oBAAQtB,EAAOoD,mBAAf,aAAQ,EAAoBrC,UAC5B,cAAC8B,GAAD,O,8CC5GAS,GAAe,CACnBC,GAAI,KACJC,GAAI,IACJC,GAAI,KACJC,GAAI,IACJC,GAAI,GACJC,GAAI,KAWAC,GAAU5I,IAAOO,KAAV,uEAAGP,CAAH,kEACT,SAAC7I,GAAD,OATkB0R,EASM1R,EAAMwO,GATF3G,YAAV,CAAD,sFAINqJ,GAAaQ,IAJP,IAACA,KA0BPC,GALS,SAAC3R,GACvB,IAAM4R,EAAW,WAAO5R,EAAM0R,OAC9B,OAAO,cAACD,GAAD,CAASjD,GAAIoD,EAAb,SAA2B5R,EAAMqB,YChCpCoI,GAAOZ,IAAOhF,EAAV,gEAAGgF,CAAH,6EACNX,GAAW,UAGJ,SAAClI,GAAD,OAAWA,EAAMC,MAAMW,UASnBiR,GAFM,SAAC7R,GAAD,OAAW,cAACyJ,GAAD,eAAUzJ,KCZpC8R,GAAMjJ,IAAOkJ,IAAV,+DAAGlJ,CAAH,iFAGa,SAAC7I,GAAD,OAAWA,EAAMC,MAAMC,kBAU9B8R,GANM,SAAChS,GAAD,OACnB,cAAC8R,GAAD,UACE,+BAAO9R,EAAMqH,WCTX4K,GAAapJ,IAAOqJ,KAAV,4EAAGrJ,CAAH,iEAGM,SAAC7I,GAAD,OAAWA,EAAMC,MAAMC,kBAK9BiS,GAFY,SAACnS,GAAD,OAAW,cAACiS,GAAD,eAAgBjS,KCNhDoS,GAAQvJ,IAAOwJ,MAAV,kEAAGxJ,CAAH,+BAMIyJ,GAFO,SAACtS,GAAD,OAAW,cAACoS,GAAD,eAAWpS,KCHtCuS,GAAc1K,YAAH,wCAWX2K,GAAY3J,IAAO4J,GAAV,2EAAG5J,CAAH,wBACX,SAAC7I,GAAD,OAPe0S,EAOmB,OAAb1S,EAAMwO,GAPC3G,YAAb,CAAD,8CACd6K,GAAYH,IACM,SAACvS,GAAD,OAAWA,EAAMC,MAAMU,UAF3B,IAAC+R,KAgBJC,GALW,SAAC3S,GACzB,OAAIA,EAAM0S,SAAiB,cAACF,GAAD,CAAWhE,GAAG,KAAd,SAAoBxO,EAAMqB,WAC9C,cAACmR,GAAD,UAAYxS,EAAMqB,YCnBrBuR,GAAgB/J,IAAOgK,GAAV,mFAAGhK,CAAH,2DAGU,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAKrCmS,GAFe,kBAAM,cAACF,GAAD,KCN9BG,GAAOlK,IAAOmK,GAAV,iEAAGnK,CAAH,+JCmBKoK,GAZG,CAChBC,QAASvB,GACTlJ,KAAMoJ,GACNK,KAAMF,GACNmB,WAAYhB,GACZE,MAAOC,GACPc,UAAWT,GACXU,cAAeP,GACfQ,KDLmB,SAACtT,GACpB,OAAIA,EAAMuT,QAAgB,cAACR,GAAD,CAAMvE,GAAG,KAAT,SAAexO,EAAMqB,WACxC,cAAC0R,GAAD,UAAO/S,EAAMqB,YCIpBmS,KAAM,SAACxT,GAAD,OAAW,4BAAIA,EAAMqH,UCbvBoM,GAAsB5K,YAAO6K,MAAV,oFAAG7K,CAAH,kQACd,SAAC7I,GAAD,OAAWA,EAAMC,MAAMQ,cA4B5BkT,GAAU,CACd,OACA,YACA,WACA,SACA,SACA,UACA,OACA,OACA,QACA,YACA,YACA,WACA,YACA,OACA,gBACA,OACA,WACA,cAaaC,GAVE,SAAC5T,GAAD,OACf,cAACyT,GAAD,CACEI,OAAQ7T,EAAMqB,SACdyS,QAAS,CAACC,MACVC,aAAcL,GACdV,UAAWA,GACXgB,kBAAgB,KC1DdC,GAAUrL,IAAOgD,IAAV,8DAAGhD,CAAH,mBAIE,SAASsL,GAAT,GAAuC,IAAb9S,EAAY,EAAZA,SACvC,OACE,cAAC6S,GAAD,UACE,cAAC,GAAD,UAAW7S,MCNjB,IAAM+S,GAAavL,YAAOY,KAAV,yEAAGZ,CAAH,mCACZJ,IAGO,SAACzI,GAAD,OAAWA,EAAMC,MAAMQ,cAGnB,SAAS4T,GAAT,GAA+B,IAAbrQ,EAAY,EAAZA,SAC/B,OAAO,cAACoQ,GAAD,CAAYzK,GAAE,aAAQ3F,GAAtB,SAAmCA,ICT5C,IAAMiJ,GAASpE,IAAOqE,OAAV,0EAAGrE,CAAH,wHACRJ,IAOO,SAACzI,GAAD,OAAWA,EAAMC,MAAMQ,cAMnB6T,GAFM,SAACtU,GAAD,OAAW,cAAC,GAAD,CAAQuJ,QAASvJ,EAAMuJ,QAAvB,qB,oBCL1BqB,GAAU/B,IAAOgD,IAAV,qEAAGhD,CAAH,0EAEgB,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAK9C4T,GAAY1L,IAAOO,KAAV,uEAAGP,CAAH,gCAEJ,SAAC7I,GAAD,OAAWA,EAAMC,MAAMS,aAGnB,SAAS8T,GAAT,GAAiD,IAAxBjP,EAAuB,EAAvBA,GAAI6I,EAAmB,EAAnBA,OAAQD,EAAW,EAAXA,QAC5CzO,EAAOP,GAAS,SAAAmK,GAAC,OAAIA,EAAE5J,QACvB+U,GAAe,OAAJ/U,QAAI,IAAJA,OAAA,EAAAA,EAAM4E,OAAQ8J,EAAO9J,IAC9B4B,EAAWwO,cAAXxO,OACF1E,EAAcqP,2BACd5F,EAAWC,sBAAYnE,GAAe,CAC1CoE,UAAW,WACT3J,EAAYsP,kBAAkB,CAAC,WAAY5K,IAC3CmF,IAAM0F,QAAQ,sBAIlB,OACE,eAAC,GAAD,WACE,cAACsD,GAAD,CAAQrQ,SAAUoK,EAAOpK,WACzB,cAACuQ,GAAD,UAAYI,KAAMxG,EAAQyG,UAAUC,YACnCJ,GAAY,cAAC,GAAD,CAAclL,QAAS,kBAAM0B,EAASO,OAAO,CACxDtF,SAAQc,UAAWzB,U,gBCnCrBqF,GAAU/B,IAAOgD,IAAV,oEAAGhD,CAAH,iKAES,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAEvB,SAACX,GAAD,OAAWA,EAAMC,MAAMa,cAS9B,SAASgU,GAAT,GAAuC,IAAZjO,EAAW,EAAXA,QAChCoK,EAAqBpK,EAArBoK,KAAS8D,EAAjB,aAA6BlO,EAA7B,IACA,OACE,eAAC,GAAD,WACE,cAAC2N,GAAD,eAAmBO,IACnB,cAACZ,GAAD,UAAiBlD,OCnBvB,IAAM8B,GAAOlK,IAAOmK,GAAV,wEAAGnK,CAAH,sCAKK,SAASmM,GAAT,GAAkC,IAAZlO,EAAW,EAAXA,SACnC,OAAO,cAAC,GAAD,UACJA,EAASd,KAAI,SAAAa,GAAO,OACnB,cAACiO,GAAD,CAAkCjO,QAASA,GAArBA,EAAQtB,SCFpC,IAAMqF,GAAU/B,IAAOgD,IAAV,sEAAGhD,CAAH,qJAYPJ,IAIO,SAACzI,GAAD,OAAWA,EAAMC,MAAMS,aAIrB,SAASuU,GAAT,GAAsC,IAAT7P,EAAQ,EAARA,KAClCmB,EAAkCnB,EAAlCmB,SAAUhB,EAAwBH,EAAxBG,GAAI6I,EAAoBhJ,EAApBgJ,OAAQD,EAAY/I,EAAZ+I,QAC9B,EAA+B+G,mBAAS,CAAC,eAAgB3P,IAAK,kBlDiKzD,SAAP,mCkDjKsE4P,CAAgB5P,MAAtE6P,EAAd,EAAQzP,KACR,OACE,eAAC,GAAD,WACE,eAAC,IAAD,CAAMgE,GAAE,aAAQpD,EAAR,YAAoBhB,GAA5B,UAAmC6P,EAAnC,WAA0E,IAAjBA,EAAqB,IAAM,MACpF,eAAC,IAAD,CAAMzL,GAAE,aAAQpD,GAAhB,gBAAgCA,KAChC,sCACA,cAAC8N,GAAD,CAAQrQ,SAAUoK,EAAOpK,WACzB,+BAAO2Q,KAAMxG,EAAQyG,UAAUC,eCnCrC,IAAMjK,GAAU/B,IAAOgD,IAAV,uEAAGhD,CAAH,+GAES,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAIvB,SAACX,GAAD,OAAWA,EAAMC,MAAMe,mBAS9BqU,GANa,SAACrV,GAAD,OAC1B,cAAC,GAAD,UACE,cAAC,GAAD,UAAWA,EAAMqB,cCDNiU,GAVYzM,IAAOgD,IAAV,iFAAGhD,CAAH,sFACpBF,IAMO,SAAC3I,GAAD,OAAWA,EAAMC,MAAMS,aCN5BkK,GAAU/B,IAAOgD,IAAV,oEAAGhD,CAAH,iIAIPF,IAOO,SAAC3I,GAAD,OAAWA,EAAMC,MAAMQ,cAC9B,SAACT,GAAD,OAAWA,EAAMuV,MAAQ,uBAIzB9M,GAAK,CAAEC,WAAW,KAIT,SAAS8M,GAAT,GAA2C,IAAfpQ,EAAc,EAAdA,KAAMmQ,EAAQ,EAARA,KAC/C,OAAO,cAAC,GAAD,CAASA,KAAMA,EAAf,SAAsBE,GAAYrQ,EAAMmQ,KAGjD,SAASE,GAAYrQ,EAAMmQ,GACzB,IAAQ5I,EAAmCvH,EAAnCuH,KAAMqB,EAA6B5I,EAA7B4I,IAAKD,EAAwB3I,EAAxB2I,MAAOxI,EAAiBH,EAAjBG,GAAIgB,EAAanB,EAAbmB,SAE9B,OAAQoG,GACN,IAAK,OACH,OAAO,mBAAG+I,KAAM1H,EAAT,SAAeD,IACxB,IAAK,OACH,OAAIwH,EAAa,+BAAOxH,IACjB,cAAC,IAAD,CAAMpE,GAAE,aAAQpD,EAAR,YAAoBhB,GAA5B,SAAmCwI,KC9BhD,IAAMnD,GAAU/B,IAAOgD,IAAV,uEAAGhD,CAAH,kGAIc,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAKnC,SAASgV,GAAT,GAAsC,IAAfvQ,EAAc,EAAdA,KAAMmQ,EAAQ,EAARA,KAC1C,OACE,eAAC,GAAD,WACE,cAACC,GAAD,CAAkBpQ,KAAMA,EAAMmQ,KAAMA,IACnCK,GAAcxQ,EAAMmQ,GACrB,cAACN,GAAD,CAAmB7P,KAAMA,OAK/B,SAASwQ,GAAcxQ,EAAMmQ,GAC3B,IAAQ5I,EAAoBvH,EAApBuH,KAAMqB,EAAc5I,EAAd4I,IAAKC,EAAS7I,EAAT6I,KAEnB,OAAQtB,GACN,IAAK,OACH,OAAO,cAAC,GAAD,UAAqBqB,IAC9B,IAAK,OACH,OAAIuH,EACK,cAAC,GAAD,UAAsBtH,IAExB,cAAC,GAAD,UAAqBA,IAC9B,QACE,QClCN,IAsCe4H,GAtCQhN,IAAOqE,OAAV,4EAAGrE,CAAH,wQAChBX,GAAW,qBAcS,SAAClI,GAAD,OAAWA,EAAMC,MAAMY,kBAIzCqH,GAAW,WAWb,qBAAG4N,SACH,2DCpBWC,GAXUlN,YAAOgN,IAAV,iFAAGhN,CAAH,wHACL,SAAA7I,GAAK,OAClBA,EAAMgW,QAAUhW,EAAMC,MAAMM,SAAWP,EAAMC,MAAMI,QCSxC4V,GAXQpN,YAAOgN,IAAV,4EAAGhN,CAAH,qHACH,SAAC7I,GAAD,OACbA,EAAMgW,QAAUhW,EAAMC,MAAMK,OAASN,EAAMC,MAAMI,QCG/CuK,GAAU/B,IAAOgD,IAAV,oEAAGhD,CAAH,+JAUF,SAAC7I,GAAD,OAAWA,EAAMC,MAAMQ,cAGnB,SAASyV,GAAT,GAA6B,IAAT9Q,EAAQ,EAARA,KAC3B1F,EAAOP,GAAS,SAACmK,GAAD,OAAOA,EAAE5J,QACzB0H,EAAM,OAAG1H,QAAH,IAAGA,OAAH,EAAGA,EAAM4E,IACT4B,EAAyBd,EAA7BG,GAAYkC,EAAiBrC,EAAjBqC,MAAOxF,EAAUmD,EAAVnD,MACrBkU,EAA8B,IAAlBlU,EAAMmF,GAClBgP,GAAiC,IAAnBnU,EAAMmF,GACpB5F,EAAcqP,2BACdwF,EAAWC,cACXrL,EAAWC,sBAAY/D,GAAY,CACvCgE,UAAW,WACT,IAAMoL,EAAmC,MAAtBF,EAASG,SAC5BhV,EAAYsP,kBAAkByF,EAAa,QAAU,CAAC,OAAQrQ,OAWlE,OACE,eAAC,GAAD,WACE,cAAC,GAAD,CAAgBqD,QATH,WACf0B,EAASO,OAAO,CAAEpE,SAAQlB,SAAQmB,MAAO,KAQJyO,QAASpW,EAAMsW,QAASG,IAC3D,+BAAO1O,IACP,cAAC,GAAD,CAAkB8B,QARH,WACjB0B,EAASO,OAAO,CAAEpE,SAAQlB,SAAQmB,OAAQ,KAODyO,QAASpW,EAAMsW,QAASI,OC3CrE,IAAMxL,GAAU/B,IAAOgD,IAAV,oEAAGhD,CAAH,oDAGS,SAAC7I,GAAD,OAAWA,EAAMC,MAAMa,cAG9B,SAAS2V,GAAT,GAA+B,IAAfrR,EAAc,EAAdA,KAAMmQ,EAAQ,EAARA,KACnC,OACE,eAAC,GAAD,WACE,cAACW,GAAD,CAAU9Q,KAAMA,IAChB,cAACuQ,GAAD,CAAavQ,KAAMA,EAAMmQ,KAAMA,OCXrC,IAAM3K,GAAU/B,IAAOgD,IAAV,qEAAGhD,CAAH,qMACTjB,IAEA,SAAC5H,GAAD,OAAWA,EAAM8G,UAAY,sBACX,SAAC9G,GAAD,OAAWA,EAAMC,MAAMU,UAGvB,SAACX,GAAD,OAAWA,EAAMC,MAAMa,cAElC,SAACd,GAAD,OAAWA,EAAMC,MAAMS,aAG5B,SAACV,GAAD,OAAYA,EAAM8G,UAAY,sBAOrB,SAAS4P,GAAT,GAA8B,IAAb5P,EAAY,EAAZA,SACxB6H,EAAU7H,EAAW,cAAgB,0BAC3C,OAAO,cAAC,GAAD,CAASA,SAAUA,EAAnB,SAA8B6H,ICrBvC,IAAMgI,GAAM9N,IAAOgD,IAAV,0DAAGhD,CAAH,8HAGa,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAIvB,SAACX,GAAD,OAAWA,EAAMC,MAAMa,cAG9B,SAAS8V,KACtB,OACE,cAACD,GAAD,UACE,cAAC,GAAD,MCFN,IAAM/L,GAAU/B,IAAOgD,IAAV,yEAAGhD,CAAH,mLAGS,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UACzC,SAACX,GAAD,OAAWA,EAAM4C,OAAS,gCAER,SAAC5C,GAAD,OAAWA,EAAMC,MAAMa,cAElC,SAACd,GAAD,OAAWA,EAAMC,MAAMS,aAQ5BmW,GAAchO,IAAOgD,IAAV,6EAAGhD,CAAH,kLAEK,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAY9B,SAASmW,KACtB,IAAQ5Q,EAAWwO,cAAXxO,QC1CH,SAA0BA,GAC7B6Q,qBAAU,cAIP,CAAC7Q,IDsCN8Q,CAAiB9Q,GACjB,IAAMxG,EAAOP,GAAS,SAACmK,GAAD,OAAOA,EAAE5J,QAC/B,EAAkCwV,mBAAS,CAAC,OAAQhP,IAAS,kB9D4ExD,SAAP,mC8D3EI+Q,CAAQ/Q,MADId,EAAd,EAAQO,KAIR,OAJA,EAAoBuR,UAIE,cAACN,GAAD,IACjBxR,EAGH,qCACE,cAAC+R,GAAD,CAAgB/R,KAAMA,IACtB,cAACgS,GAAD,CAAmBlR,OAAQA,EAAQd,KAAMA,EAAM1F,KAAMA,IACpDA,GAAQ,cAACiR,GAAD,CAAazK,OAAQA,IAC9B,cAACmR,GAAD,CAA0BnR,OAAQA,OAPpB,cAACwQ,GAAD,IAYpB,SAASU,GAAT,GAAoD,IAAvB1X,EAAsB,EAAtBA,KAAMwG,EAAgB,EAAhBA,OAAQd,EAAQ,EAARA,KACjCgJ,EAAoChJ,EAApCgJ,OAAQF,EAA4B9I,EAA5B8I,MAAOxG,EAAqBtC,EAArBsC,iBACjBpG,EAAUC,cACV0J,EAAWC,sBAAY1E,GAAY,CACvC2E,UAAW,WACT7J,EAAQ8J,KAAK,KACbC,IAAM0F,QAAQ,mBAGZ0D,EAAWrG,EAAO9J,OAAP,OAAe5E,QAAf,IAAeA,OAAf,EAAeA,EAAM4E,KACtC,OACE,eAAC,GAAD,CAAS1B,OAAQlD,EAAjB,UACE,iCAAOwO,EAAP,YACA,+CACA,iCAAOxG,EAAP,eACC+M,GAAY,cAAC,GAAD,CAAclL,QAAS,kBAAM0B,EAASO,OAAOtF,SAKhE,SAASmR,GAAT,GAA+C,IAAXnR,EAAU,EAAVA,OAClC,EAAsCgP,mBAAS,CAAC,WAAYhP,IAAS,kB9DgFhE,SAAP,mC8D/EIoR,CAAoBpR,MADRY,EAAd,EAAQnB,KAIR,OAJA,EAAwBuR,aAIP,OAACpQ,QAAD,IAACA,OAAD,EAACA,EAAUpE,QAAe,cAACgU,GAAD,CAAO5P,UAAQ,IAEnD,cAACkO,GAAD,CAAalO,SAAUA,IAGhC,SAASqQ,GAAT,GAAmC,IAAT/R,EAAQ,EAARA,KACxB,OACE,cAACyR,GAAD,UACE,cAACJ,GAAD,CAAMrR,KAAMA,EAAMmQ,MAAI,ME1F5B,IAAMxC,GAAOlK,IAAOmK,GAAV,qEAAGnK,CAAH,0JAEY,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAWvCoP,GAAOlH,IAAO0O,GAAV,qEAAG1O,CAAH,mDAEkB,SAAC7I,GAAD,OAAWA,EAAMC,MAAMU,UAIpC,SAAS6W,KACtB,MAA+B9C,cAAvB1Q,EAAR,EAAQA,SAAUuC,EAAlB,EAAkBA,SAClB,EAAmC2O,mBACjC,CAAC,QAASlR,EAAUuC,IAAW,WAC7B,OAAOvC,EhE0GN,SAAP,mCgEzGUyT,CAAmBzT,GACnBuC,EhE+GH,SAAP,mCgE9GUmR,CAAmBnR,GhEgGtB,WAAP,gCgE/FUoR,MANMrR,EAAd,EAAQX,KASR,OATA,EAAqBuR,UASC,cAACN,GAAD,IACjBtQ,GAAUA,EAAM5D,OAGnB,cAAC,GAAD,UACG4D,EAAMN,KAAI,SAACZ,GAAD,OACT,cAACwS,GAAD,CAA4BxS,KAAMA,GAAfA,EAAKG,SALM,cAACmR,GAAD,IAWtC,SAASkB,GAAT,GAAiC,IAATxS,EAAQ,EAARA,KACtB,OACE,cAAC,GAAD,UACE,cAACqR,GAAD,CAAMrR,KAAMA,EAAMmQ,MAAM,MC9C9B,IAAM3K,GAAU/B,IAAOgD,IAAV,mEAAGhD,CAAH,iJAePgP,GAAkBhP,IAAOiP,KAAV,2EAAGjP,CAAH,yBAKN,SAASkP,KACtB,OACE,eAAC,GAAD,WACE,eAACF,GAAD,WACE,cAAC,IAAD,CAAOG,UAAWnI,KAClB,cAAC,IAAD,CAAOK,OAAK,EAAC+H,KAAK,IAAID,UAAWR,KACjC,cAAC,IAAD,CAAOtH,OAAK,EAAC+H,KAAK,eAAeD,UAAWR,KAC5C,cAAC,IAAD,CAAOtH,OAAK,EAAC+H,KAAK,eAAeD,UAAWR,KAC5C,cAAC,IAAD,CAAOtH,OAAK,EAAC+H,KAAK,uBAAuBD,UAAWlB,QAEtD,cAAC,IAAD,CAAOkB,UAAWzH,QC1BT,SAAS2H,GAAT,GAA6B,IAAD,IAAX5W,EAAW,EAAXA,QAC9B,EAIIkM,aAAQ,CAAEC,KAAM,WAHlBC,EADF,EACEA,SACAC,EAFF,EAEEA,aACaC,EAHf,EAGEC,UAAaD,OAGT3C,EAAWC,sBAAYnG,EAAW,CACtCoG,UAAW,WACT7J,EAAQ6W,QAAQ,KAChB9M,IAAM0F,QAAQ,sBAEhBxF,QAAS,SAACnL,GACR,IAAIuO,EAAO,OAAGvO,QAAH,IAAGA,OAAH,EAAGA,EAAO8R,KACrB,OAAQvD,GACN,IAAK,sBACHA,EAAU,wBACV,MACF,IAAK,sBACHA,EAAU,sBAKdtD,IAAMjL,MAAMuO,MAShB,OACE,eAAC,GAAD,CAAMb,SAAUH,GAND,SAAChI,GAChB,IAAQ7B,EAAoB6B,EAApB7B,MAAOC,EAAa4B,EAAb5B,SACfkH,EAASO,OAAO,CAAE1H,QAAOC,gBAIzB,UACE,eAAC,GAAD,WACE,cAAC,GAAD,oBACA,cAAC,GAAD,2BACM2J,EAAS,QAAS,CACpBa,SAAU,oBACVM,UAAW,CACTxH,MAAO,GACPsH,QAAS,sCALf,IAQEhC,KAAK,WAEP,cAAC,GAAD,oBAAQiB,EAAO9J,aAAf,aAAQ,EAAc6K,aAExB,eAAC,GAAD,WACE,cAAC,GAAD,uBACA,cAAC,GAAD,2BACMjB,EAAS,WAAY,CACvBa,SAAU,uBACVK,UAAW,CACTvH,MAAO,EACPsH,QAAS,iCAEXE,UAAW,CACTxH,MAAO,GACPsH,QAAS,sCATf,IAYEhC,KAAK,cAEP,cAAC,GAAD,oBAAQiB,EAAO7J,gBAAf,aAAQ,EAAiB4K,aAE3B,cAAC,GAAD,CAAchC,KAAK,SAAnB,uBCnES,SAASyL,GAAT,GAA8B,IAAD,QAAX9W,EAAW,EAAXA,QAC/B,EAKIkM,aAAQ,CAAEC,KAAM,WAJlBC,EADF,EACEA,SACA2K,EAFF,EAEEA,UACA1K,EAHF,EAGEA,aACaC,EAJf,EAIEC,UAAaD,OAIT3C,EAAWC,sBAAYtH,EAAY,CACvCuH,UAAW,WACT7J,EAAQ6W,QAAQ,KAChBG,OAAOjC,SAASkC,SAChBlN,IAAM0F,QAAQ,uBAEhBxF,QAAS,SAACnL,GACRiL,IAAMjL,MAAMA,EAAMuO,YAStB,OACE,eAAC,GAAD,CAAMb,SAAUH,GAND,SAAChI,GAChB,IAAQ7B,EAA8B6B,EAA9B7B,MAAOC,EAAuB4B,EAAvB5B,SAAUC,EAAa2B,EAAb3B,SACzBiH,EAASO,OAAO,CAAE1H,QAAOC,WAAUC,gBAInC,UACE,eAAC,GAAD,WACE,cAAC,GAAD,uBACA,cAAC,GAAD,2BACM0J,EAAS,WAAY,CACvBa,SAAU,uBACVK,UAAW,CACTvH,MAAO,EACPsH,QAAS,iCAEXE,UAAW,CACTxH,MAAO,GACPsH,QAAS,mCAEXI,SAAU,SAAC1H,GAAD,OnEaf,SAAP,kCmEbiCmR,CAAqBnR,OAX9C,IAaEsF,KAAK,UAEP,cAAC,GAAD,oBAAQiB,EAAO5J,gBAAf,aAAQ,EAAiB2K,aAE3B,eAAC,GAAD,WACE,cAAC,GAAD,oBACA,cAAC,GAAD,2BACMjB,EAAS,QAAS,CACpBa,SAAU,oBACVM,UAAW,CACTxH,MAAO,GACPsH,QAAS,sCALf,IAQEhC,KAAK,WAEP,cAAC,GAAD,oBAAQiB,EAAO9J,aAAf,aAAQ,EAAc6K,aAExB,eAAC,GAAD,WACE,cAAC,GAAD,uBACA,cAAC,GAAD,2BACMjB,EAAS,WAAY,CACvBa,SAAU,uBACVK,UAAW,CACTvH,MAAO,EACPsH,QAAS,iCAEXE,UAAW,CACTxH,MAAO,GACPsH,QAAS,sCATf,IAYEhC,KAAK,cAEP,cAAC,GAAD,oBAAQiB,EAAO7J,gBAAf,aAAQ,EAAiB4K,aAE3B,eAAC,GAAD,WACE,cAAC,GAAD,+BACA,cAAC,GAAD,2BACMjB,EAAS,UAAW,CACtBa,SAAU,sBACVK,UAAW,CACTvH,MAAO,EACPsH,QAAS,iCAEXE,UAAW,CACTxH,MAAO,GACPsH,QAAS,mCAEXI,SAAU,SAAC1H,GAET,OADqBgR,IAAbtU,WACYsD,GAAS,8BAbnC,IAgBEsF,KAAK,cAEP,cAAC,GAAD,oBAAQiB,EAAO6K,eAAf,aAAQ,EAAgB9J,aAE1B,cAAC,GAAD,CAAchC,KAAK,SAAnB,wBCvGS,SAAS+L,KAItB,OpE2DK,WACL,MAA6BvZ,GAC3B,SAACmK,GAAD,MAAO,CAACA,EAAE3J,QAAS2J,EAAE1J,aACrBoL,KAFF,mBAAOrL,EAAP,KAAgBC,EAAhB,KAKAmX,qBAAU,WAAO,SACA4B,EADD,8EACd,WAAuBjZ,GAAvB,iBAAAmE,EAAA,yDACOnE,EADP,gBAEIE,IAFJ,6BAIUgZ,EAAUvU,YAAIb,EAAI,QAAS9D,EAAK4E,KAJ1C,SAK0BmB,YAAOmT,GALjC,QAKUxU,EALV,QAMgBgC,SACVzG,EAAQyE,EAAQuB,QAEhB/F,IATN,4CADc,sBAcd,IAAMiZ,EAAcC,YAAmBxV,EAAD,uCAAO,WAAO5D,GAAP,SAAAmE,EAAA,sEACrC8U,EAAQjZ,GAD6B,2CAAP,uDAGtC,OAAO,kBAAMmZ,OACZ,CAAClZ,EAASC,IoErFbmZ,GAGE,qCACE,cAAC,IAAD,CAAOf,UAAWjN,KAClB,eAAC,IAAD,WACE,cAAC,IAAD,CAAOkN,KAAK,UAAUD,UAAWI,KACjC,cAAC,IAAD,CAAOH,KAAK,SAASD,UAAWE,KAChC,cAAC,IAAD,CAAOD,KAAK,cAAcD,UAAW3K,KACrC,cAAC,IAAD,CAAO4K,KAAK,IAAID,UAAWD,WCPfiB,QACW,cAA7BV,OAAOjC,SAAS4C,UAEe,UAA7BX,OAAOjC,SAAS4C,UAEhBX,OAAOjC,SAAS4C,SAASC,MACvB,2D,yBCfNvE,KAAMwE,OAAOC,MACbzE,KAAM0E,OAAO,KAAM,CACfD,aAAc,CACVE,OAAQ,KACRC,KAAM,SACNjQ,EAAG,MACHkQ,GAAI,MACJC,EAAG,KACHC,GAAI,MACJC,EAAG,KACHC,GAAI,MACJ3Q,EAAG,KACH4Q,GAAI,MACJC,EAAG,KACHC,GAAI,MACJC,EAAG,KACHC,GAAI,SCXZC,IAASC,OACP,cAAC/Y,EAAD,UACE,cAACsX,GAAD,MAEF0B,SAASC,eAAe,SFqHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.15589643.chunk.js","sourcesContent":["import create from \"zustand\";\r\nimport { persist } from \"zustand/middleware\";\r\n\r\nconst useStore = create(\r\n  persist(\r\n    (set) => ({\r\n      isDarkTheme: true,\r\n      toggleTheme: () => {\r\n        set((state) => ({ isDarkTheme: !state.isDarkTheme }));\r\n      },\r\n      user: null,\r\n      setUser: (user) => set({ user }),\r\n      resetUser: () => set({ user: null }),\r\n    }),\r\n    {\r\n      name: \"reddit-rise\",\r\n    }\r\n  )\r\n);\r\n\r\nexport default useStore;\r\n","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background-color: ${props => props.theme.pageBackground};\n  }\n`;\n\nexport default GlobalStyle;\n","const constants = {\n  error: \"#f5222d\",\n  vote: \"#b6b6b6\",\n  upvote: \"#f9920b\",\n  downvote: \"#2e70ff\",\n};\n\nconst dark = {\n  ...constants,\n  normalText: \"#ffffff\",\n  mutedText: \"#b0b8bf\",\n  border: \"#333333\",\n  accent: \"#33a0ff\",\n  pageBackground: \"#1b1b1b\",\n  voteButtonHover: \"#383838\",\n  foreground: \"#262626\",\n  activeBackground: \"#333333\",\n  inputBackground: \"#212121\",\n  shadow: \"rgba(0, 0, 0, 0.4)\",\n};\n\nconst light = {\n  ...constants,\n  normalText: \"#454f5b\",\n  mutedText: \"#818e99\",\n  border: \"#ebedf0\",\n  accent: \"#1890ff\",\n  pageBackground: \"#f4f6f8\",\n  voteButtonHover: \"#f2f2f2\",\n  foreground: \"#ffffff\",\n  activeBackground: \"#fafafa\",\n  inputBackground: \"#fcfcfc\",\n  shadow: \"rgba(0, 0, 0, 0.05)\",\n};\n\nconst theme = (isDark) => (isDark ? dark : light);\n\nexport default theme;\n","import { Toaster } from \"react-hot-toast\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport { ReactQueryDevtools } from \"react-query/devtools\";\nimport { BrowserRouter, useHistory } from \"react-router-dom\";\nimport useStore from \"store\";\nimport { ThemeProvider } from \"styled-components\";\nimport GlobalStyle from \"styles/globalStyle\";\nimport theme from \"theme\";\n\nexport default function AppProviders({ children }) {\n  const history = useHistory();\n  const queryClient = new QueryClient({\n    defaultOptions: {\n      queries: {\n        refetchOnWindowFocus: process.env.NODE_ENV === \"production\",\n      },\n    },\n  });\n\n  const isDarkTheme = useStore((state) => state.isDarkTheme);\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ReactQueryDevtools />\n      <Toaster position=\"top-center\" />\n      <ThemeProvider theme={theme(isDarkTheme)}>\n        <GlobalStyle />\n        <BrowserRouter history={history}>{children}</BrowserRouter>\n      </ThemeProvider>\n    </QueryClientProvider>\n  );\n}\n","export function getUpvotePercentage(votes) {\n  const upvoteCount = Object.values(votes).reduce((acc, val) => {\n    if (val === 1) {\n      return (acc += 1);\n    }\n    return acc;\n  }, 0);\n  const totalVotes = Object.keys(votes).length;\n  return totalVotes !== 0 ? Math.round((upvoteCount * 100) / totalVotes) : 0;\n}\n\nexport function getPostScore(votes) {\n    return Object.values(votes).reduce((acc, val) => (acc += val), 0);\n}\n","import { initializeApp } from \"firebase/app\";\nimport {\n    createUserWithEmailAndPassword,\n    getAuth,\n    onAuthStateChanged,\n    signInWithEmailAndPassword,\n    signOut\n} from \"firebase/auth\";\nimport {\n    addDoc,\n    collection,\n    deleteDoc,\n    doc,\n    getDoc,\n    getDocs,\n    getFirestore,\n    orderBy,\n    query,\n    runTransaction,\n    serverTimestamp,\n    setDoc,\n    where\n} from \"firebase/firestore/lite\";\nimport { useEffect } from \"react\";\nimport useStore from \"store\";\nimport shallow from \"zustand/shallow\";\nimport { getPostScore, getUpvotePercentage } from \"./helpers\";\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBROQTEdmOzauZAaAnE_pkqyKfmEWszr5U\",\n  authDomain: \"reddit-clone-rise.firebaseapp.com\",\n  projectId: \"reddit-clone-rise\",\n  storageBucket: \"reddit-clone-rise.appspot.com\",\n  messagingSenderId: \"554493441837\",\n  appId: \"1:554493441837:web:904c9a73cd643157f045a4\",\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nexport const getTimestamp = serverTimestamp;\n\nexport async function signupUser({ email, password, username }) {\n  const userCreds = await createUserWithEmailAndPassword(auth, email, password);\n  await createUser({\n    user: userCreds.user,\n    username,\n  });\n}\n\nexport async function createUser({ user, username }) {\n  const userDoc = doc(db, \"users\", user.uid);\n  await setDoc(userDoc, {\n    uid: user.uid,\n    email: user.email,\n    username,\n  });\n}\n\nexport async function checkIfUsernameTaken(username) {\n  const col = collection(db, \"users\");\n  const q = query(col, where(\"username\", \"==\", username));\n  const { empty } = await getDocs(q);\n  return empty || \"Username Taken!\";\n}\n\nexport function useAuthUser() {\n  const [setUser, resetUser] = useStore(\n    (s) => [s.setUser, s.resetUser],\n    shallow\n  );\n\n  useEffect(() => {\n    async function getUser(user) {\n      if (!user) {\n        resetUser();\n      } else {\n        const userRef = doc(db, \"users\", user.uid);\n        const userDoc = await getDoc(userRef);\n        if (userDoc.exists()) {\n          setUser(userDoc.data());\n        } else {\n          resetUser();\n        }\n      }\n    }\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      await getUser(user);\n    });\n    return () => unsubscribe();\n  }, [setUser, resetUser]);\n}\n\nexport async function loginUser({ email, password }) {\n  return await signInWithEmailAndPassword(auth, email, password);\n}\n\nexport async function logOut() {\n  return await signOut(auth);\n}\n\nexport async function createPost(post) {\n  const postCol = collection(db, \"posts\");\n  const { id } = await addDoc(postCol, post);\n  const postDoc = doc(db, \"posts\", id);\n  const newPost = await getDoc(postDoc);\n  return { id, ...newPost.data() };\n}\n\nexport async function getDocuments(ref) {\n  const snap = await getDocs(ref);\n  const docs = snap.docs.map((doc) => ({\n    id: doc.id,\n    reference: doc.ref,\n    ...doc.data(),\n  }));\n  return docs;\n}\n\nexport async function getPost(postId) {\n  const postRef = doc(db, \"posts\", postId);\n  const postDoc = await getDoc(postRef);\n  return postDoc.exists() ? { id: postDoc.id, ...postDoc.data() } : null;\n}\n\nexport async function getPosts() {\n  const col = collection(db, \"posts\");\n  const q = query(col, orderBy(\"score\", \"desc\"));\n  const posts = await getDocuments(q);\n  return posts;\n}\n\nexport async function getPostsByUsername(username) {\n  const col = collection(db, \"posts\");\n  const q = query(col, where(\"author.username\", \"==\", username));\n  const posts = await getDocuments(q);\n  return posts;\n}\n\nexport async function getPostsByCategory(category) {\n  const col = collection(db, \"posts\");\n  const q = query(\n    col,\n    where(\"category\", \"==\", category),\n    orderBy(\"score\", \"desc\")\n  );\n  const posts = getDocuments(q);\n  return posts;\n}\n\nexport async function deletePost(postId) {\n    const docRef = doc(db, \"posts\", postId);\n    const deletedPost = await deleteDoc(docRef);\n    return deletedPost\n}\n\nexport async function createComment(comment) {\n    const col = collection(db, \"posts\", comment.postId, \"comments\");\n    const newComment = await addDoc(col, comment)\n}\n\nexport async function getCommentsByPostId(postId) {\n    const col = collection(db, \"posts\", postId, \"comments\");\n    const q = query(col, orderBy(\"created\", \"desc\"))\n    const comments = await getDocuments(q);\n    return comments;\n\n\n}\n\nexport async function deleteComment({ postId, commentId}) {\n    const docRef = doc(db, \"posts\", postId, \"comments\", commentId)\n    const deletedDoc = await deleteDoc(docRef)\n    return deletedDoc\n}\n\nexport async function addView(postId) {\n  const postRef = doc(db, \"posts\", postId);\n  await runTransaction(db, async (transaction) => {\n    const postDoc = await transaction.get(postRef);\n    if (postDoc.exists()) {\n      const newViewCount = postDoc.data().views + 1;\n      transaction.update(postRef, { views: newViewCount });\n    }\n  });\n}\n\nexport async function getCommentCount(postId) {\n    const col = collection(db, \"posts\", postId, \"comments\")\n    const { size } = await getDocs(col)\n    return size;\n}\n\nexport async function toggleVote(vote) {\n  const { postId, userId, value } = vote;\n  const postRef = doc(db, \"posts\", postId);\n  await runTransaction(db, async (transaction) => {\n    const postDoc = await transaction.get(postRef);\n    if (postDoc.exists()) {\n      const votes = { ...postDoc.data().votes };\n      const isUnvote = votes[userId] === value;\n      if (isUnvote) {\n        delete votes[userId];\n      } else {\n        votes[userId] = value;\n      }\n      const score = getPostScore(votes);\n      const upvotePercentage = getUpvotePercentage(votes);\n      transaction.update(postRef, { votes, upvotePercentage, score });\n    }\n  });\n}\n","import { css, keyframes } from \"styled-components\";\n\nexport const smallFont = css`\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n`;\n\nexport const wideFont = css`\n  ${smallFont};\n  font-weight: 700;\n  letter-spacing: 0.05em;\n`;\n\nconst fadeKeyframes = keyframes`\n  from { opacity: 0; }\n  to { opacity: 1; }\n`;\n\nexport const fade = css`\n  animation: ${fadeKeyframes} 0.25s;\n`;\n\nexport const transition = (...props) => {\n  let str = \"transition: \";\n  props.forEach((item, index) => {\n    str = str.concat(\n      `${item} 0.1s ease${index === props.length - 1 ? \";\" : \", \"}`\n    );\n  });\n  return str;\n};\n\nexport const headerItem = css`\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  padding: 0 16px;\n\n  @media (max-width: 425px) {\n    padding: 0 8px;\n  }\n`;\n\nexport const link = (props) => css`\n  ${transition(\"color\")};\n\n  text-underline-position: under;\n  text-decoration: none;\n  color: ${(props) => props.theme.normalText};\n\n  :hover {\n    ${props.underline && \"text-decoration: underline\"};\n    color: ${(props) => props.theme.accent};\n  }\n`;\n\nexport const overflow = css`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n","import { transition } from \"components/shared/helpers\";\nimport styled from \"styled-components/macro\";\n\nconst Icon = styled.svg`\n  width: 20px;\n  height: 20px;\n\n  & path {\n    ${transition(\"fill\")};\n\n    fill: ${(props) => props.theme.mutedText};\n  }\n\n  @media (max-width: 425px) {\n    width: 18px;\n    height: 18px;\n  }\n`;\n\nconst HeaderDarkButtonIcon = () => (\n  <Icon viewBox=\"0 0 24 24\">\n    <path\n      d=\"M6.03569223,7.86020138e-11 C4.77338857,1.342144 4,3.14939605 4,5.13728269 C4,9.27941831 7.35786438,12.6372827 11.5,12.6372827 C13.4878866,12.6372827 15.2951387,11.8638941 16.6372827,10.6015905 C15.5809549,14.0943073 12.3374493,16.6372827 8.5,16.6372827 C3.80557963,16.6372827 0,12.8317031 0,8.13728269 C0,4.29983338 2.54297542,1.05632781 6.03569223,0 Z\"\n      transform=\"translate(4 4)\"\n    />\n  </Icon>\n);\n\nexport default HeaderDarkButtonIcon;\n","import { headerItem } from \"components/shared/helpers\";\nimport useStore from \"store\";\nimport styled from \"styled-components/macro\";\nimport HeaderDarkButtonIcon from \"./Icon\";\n\nconst DarkButton = styled.span`\n  ${headerItem};\n\n  padding: 0 8px;\n  cursor: pointer;\n\n  @media (hover: hover) {\n    :hover path {\n      fill: ${(props) => props.theme.accent};\n    }\n  }\n`;\n\nexport default function HeaderDarkButton() {\n  const toggleTheme = useStore((s) => s.toggleTheme)\n  return (\n    <DarkButton onClick={toggleTheme}>\n      <HeaderDarkButtonIcon />\n    </DarkButton>\n  );\n}\n","import { headerItem } from \"components/shared/helpers\";\nimport { Link } from \"react-router-dom\";\nimport useStore from \"store\";\nimport styled from \"styled-components/macro\";\n\nconst Logo = styled(Link)`\n  ${headerItem};\n\n  margin-right: auto;\n  font-size: 24px;\n  font-weight: 500;\n  color: ${(props) => props.theme.normalText};\n  text-decoration: none;\n\n  @media (max-width: 425px) {\n    padding: 0 8px 0 16px;\n    font-size: 19px;\n  }\n  .reddit__logo {\n    width: 90px;\n  }\n  .reddit__logo1 {\n    width: 100px;\n  }\n`;\n\nconst HeaderLogo = () => {\n  const isDarkTheme = useStore((s) => s.isDarkTheme);\n  return (\n    <>\n      {isDarkTheme ? (\n        <Logo to=\"/\">\n          <svg\n            className=\"reddit__logoDark\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 22 20\"\n            height=\"35\"\n            width=\"50\"\n          >\n            <g>\n              <circle fill=\"#FF4500\" cx=\"10\" cy=\"10\" r=\"10\"></circle>\n              <path\n                fill=\"#FFF\"\n                d=\"M16.67,10A1.46,1.46,0,0,0,14.2,9a7.12,7.12,0,0,0-3.85-1.23L11,4.65,13.14,5.1a1,1,0,1,0,.13-0.61L10.82,4a0.31,0.31,0,0,0-.37.24L9.71,7.71a7.14,7.14,0,0,0-3.9,1.23A1.46,1.46,0,1,0,4.2,11.33a2.87,2.87,0,0,0,0,.44c0,2.24,2.61,4.06,5.83,4.06s5.83-1.82,5.83-4.06a2.87,2.87,0,0,0,0-.44A1.46,1.46,0,0,0,16.67,10Zm-10,1a1,1,0,1,1,1,1A1,1,0,0,1,6.67,11Zm5.81,2.75a3.84,3.84,0,0,1-2.47.77,3.84,3.84,0,0,1-2.47-.77,0.27,0.27,0,0,1,.38-0.38A3.27,3.27,0,0,0,10,14a3.28,3.28,0,0,0,2.09-.61A0.27,0.27,0,1,1,12.48,13.79Zm-0.18-1.71a1,1,0,1,1,1-1A1,1,0,0,1,12.29,12.08Z\"\n              ></path>\n            </g>\n          </svg>\n          <svg\n            className=\"reddit__logo\"\n            viewBox=\"0 0 90 18\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <g fill=\"#D7DADC\">\n              <path d=\"M54.63,16.52V7.68h1a1,1,0,0,0,1.09-1V6.65a1,1,0,0,0-.93-1.12H54.63V3.88a1.23,1.23,0,0,0-1.12-1.23,1.2,1.2,0,0,0-1.27,1.11V5.55h-1a1,1,0,0,0-1.09,1v.07a1,1,0,0,0,.93,1.12h1.13v8.81a1.19,1.19,0,0,0,1.19,1.19h0a1.19,1.19,0,0,0,1.25-1.12A.17.17,0,0,0,54.63,16.52Z\"></path>\n              <circle fill=\"#FF4500\" cx=\"47.26\" cy=\"3.44\" r=\"2.12\"></circle>\n              <path d=\"M48.44,7.81a1.19,1.19,0,1,0-2.38,0h0v8.71a1.19,1.19,0,0,0,2.38,0Z\"></path>\n              <path d=\"M30.84,1.19A1.19,1.19,0,0,0,29.65,0h0a1.19,1.19,0,0,0-1.19,1.19V6.51a4.11,4.11,0,0,0-3-1.21c-3.1,0-5.69,2.85-5.69,6.35S22.28,18,25.42,18a4.26,4.26,0,0,0,3.1-1.23,1.17,1.17,0,0,0,1.47.8,1.2,1.2,0,0,0,.85-1.05ZM25.41,15.64c-1.83,0-3.32-1.77-3.32-4s1.48-4,3.32-4,3.31,1.78,3.31,4-1.47,3.95-3.3,3.95Z\"></path>\n              <path d=\"M43.28,1.19A1.19,1.19,0,0,0,42.09,0h0a1.18,1.18,0,0,0-1.18,1.19h0V6.51a4.15,4.15,0,0,0-3-1.21c-3.1,0-5.69,2.85-5.69,6.35S34.72,18,37.86,18A4.26,4.26,0,0,0,41,16.77a1.17,1.17,0,0,0,1.47.8,1.19,1.19,0,0,0,.85-1.05ZM37.85,15.64c-1.83,0-3.31-1.77-3.31-4s1.47-4,3.31-4,3.31,1.78,3.31,4-1.47,3.95-3.3,3.95Z\"></path>\n              <path d=\"M17.27,12.44a1.49,1.49,0,0,0,1.59-1.38v-.15a4.81,4.81,0,0,0-.1-.85A5.83,5.83,0,0,0,13.25,5.3c-3.1,0-5.69,2.85-5.69,6.35S10.11,18,13.25,18a5.66,5.66,0,0,0,4.39-1.84,1.23,1.23,0,0,0-.08-1.74l-.11-.09a1.29,1.29,0,0,0-1.58.17,3.91,3.91,0,0,1-2.62,1.12A3.54,3.54,0,0,1,10,12.44h7.27Zm-4-4.76a3.41,3.41,0,0,1,3.09,2.64H10.14A3.41,3.41,0,0,1,13.24,7.68Z\"></path>\n              <path d=\"M7.68,6.53a1.19,1.19,0,0,0-1-1.18A4.56,4.56,0,0,0,2.39,6.91V6.75A1.2,1.2,0,0,0,0,6.75v9.77a1.23,1.23,0,0,0,1.12,1.24,1.19,1.19,0,0,0,1.26-1.1.66.66,0,0,0,0-.14v-5A3.62,3.62,0,0,1,5.81,7.7a4.87,4.87,0,0,1,.54,0h.24A1.18,1.18,0,0,0,7.68,6.53Z\"></path>\n            </g>\n          </svg>\n        </Logo>\n      ) : (\n        <Logo to=\"/\">\n          <img\n            className=\"reddit__logo1\"\n            src=\"https://logodownload.org/wp-content/uploads/2018/02/reddit-logo.png\"\n            alt=\"\"\n          />\n        </Logo>\n      )}\n    </>\n  );\n};\n\nexport default HeaderLogo;\n","import styled from \"styled-components/macro\";\nimport { NavLink as RouterNavLink } from \"react-router-dom\";\nimport { link, transition } from \"./helpers\";\n\nconst activeClassName = \"active\";\n\nconst NavLink = styled(RouterNavLink).attrs({ activeClassName })`\n  ${link};\n\n  position: relative;\n\n  ::after {\n    ${transition(\"opacity\")};\n\n    content: \"\";\n    position: absolute;\n    opacity: 0;\n  }\n\n  &.${activeClassName} {\n    background-color: ${(props) => props.theme.activeBackground};\n\n    ::after {\n      opacity: 1;\n    }\n  }\n`;\n\nexport default NavLink;\n","import styled from 'styled-components/macro';\nimport NavLink from '../shared/NavLink';\nimport { headerItem, wideFont, link, transition } from '../shared/helpers';\n\nconst HeaderNavLink = styled(NavLink)`\n  ${headerItem};\n  ${wideFont};\n  ${link};\n  \n  position: relative;\n  cursor: pointer;\n  color: ${props => props.theme.mutedText};\n  \n  ::after {\n    ${transition('opacity', 'border-bottom-width')};\n    \n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0;\n    border-bottom: 1px solid ${props => props.theme.accent};\n  }\n  \n  :hover::after {\n    opacity: 1;\n  }\n  \n  &.active::after {\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border-bottom: 3px solid ${props => props.theme.accent};\n  }\n`;\n\nexport default HeaderNavLink;\n","import styled from 'styled-components/macro';\nimport { wideFont } from '../../shared/helpers';\n\nconst HeaderUsernameText = styled.span`\n  ${wideFont};\n  \n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: ${props => props.theme.mutedText};\n`;\n\nexport default HeaderUsernameText;\n","import styled from \"styled-components/macro\";\nimport HeaderNavLink from \"../NavLink\";\nimport HeaderUsernameText from \"./Text\";\n\nconst Wrapper = styled(HeaderNavLink)`\n  flex-shrink: 1;\n  border-left: 1px solid ${(props) => props.theme.border};\n  border-right: 1px solid ${(props) => props.theme.border};\n  min-width: 0;\n`;\n\nexport default function HeaderUsername({username}) {\n  return (\n    <Wrapper to={`/u/${username}`}>\n      <HeaderUsernameText>{username}</HeaderUsernameText>\n    </Wrapper>\n  );\n}\n","import { logOut } from \"lib/firebase\";\nimport toast from \"react-hot-toast\";\nimport { useMutation } from \"react-query\";\nimport useStore from \"store\";\nimport styled from \"styled-components/macro\";\nimport shallow from \"zustand/shallow\";\nimport HeaderDarkButton from \"./DarkButton\";\nimport HeaderLogo from \"./Logo\";\nimport HeaderNavLink from \"./NavLink\";\nimport HeaderUsername from \"./Username\";\n\nconst Wrapper = styled.header`\n  position: sticky;\n  z-index: 10;\n  top: 0;\n  display: flex;\n  align-items: stretch;\n  margin-bottom: 24px;\n  box-shadow: 0 4px 12px ${(props) => props.theme.shadow};\n  border-bottom: 1px solid ${(props) => props.theme.border};\n  height: 48px;\n  padding: 0 10vw;\n  background-color: ${(props) => props.theme.foreground};\n  user-select: none;\n\n  @media (max-width: 425px) {\n    margin-bottom: 16px;\n    height: 40px;\n  }\n\n  @media (max-width: 768px) {\n    padding: 0;\n  }\n`;\n\nexport default function Header({history}) {\n  const [user, resetUser] = useStore(s => [s.user, s.resetUser], shallow);\n\n  const mutation = useMutation(logOut, {\n    onSuccess: () => {\n      resetUser();\n      history.push(\"/login\");\n      toast(\"Logged out\", {\n        icon: \"\"\n      })\n    },\n    onError: () => {\n      toast.error(\"Error logging out\")\n    }\n  })\n\n  return <Wrapper>\n    <HeaderLogo />\n    <HeaderDarkButton />\n    {user ? (\n      <>\n    <HeaderUsername username={user.username} />\n    <HeaderNavLink onClick={mutation.mutate} to=\"/\">log out</HeaderNavLink>\n      </>\n    ) : (\n      <>\n    <HeaderNavLink to=\"/login\">log in</HeaderNavLink>\n    <HeaderNavLink to=\"/signup\">sign up</HeaderNavLink>\n      </>\n    )}\n\n  </Wrapper>;\n}\n","const categories = [\n  \"programming\",\n  \"news\",\n  \"videos\",\n  \"fashion\",\n  \"music\",\n  \"funny\",\n];\n\nexport default categories;\n","import styled from \"styled-components/macro\";\nimport { fade, smallFont } from \"../helpers\";\n\nconst Error = styled.span`\n  ${fade};\n  ${smallFont};\n\n  position: absolute;\n  right: 0;\n  top: 0;\n  color: ${(props) => props.theme.error};\n`;\n\nexport default Error;\n","import styled from 'styled-components/macro';\nimport { keyframes } from 'styled-components';\n\nconst spin = keyframes`\n  0% {\n    transform: translate(-50%, -50%) rotate(0deg);\n  }\n\n  100% {\n    transform: translate(-50%, -50%) rotate(360deg);\n  }\n`;\n\nconst LoadingIndicatorSpinner = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  animation: ${spin} 1s infinite linear;\n  border: .3rem solid ${props => props.theme.accent + '4d'};\n  border-top-color: ${props => props.theme.accent};\n  border-radius: 50%;\n  width: 48px;\n  height: 48px;\n`;\n\nexport default LoadingIndicatorSpinner;\n","import styled from 'styled-components/macro';\n\nconst FormWrapper = styled.div`\n  position: relative;\n  overflow: hidden;\n  margin: 0 auto;\n  border: 1px solid ${props => props.theme.border};\n  border-radius: 2px;\n  max-width: ${props => (props.wide ? '600px' : '375px')};\n  padding: 24px;\n  background-color: ${props => props.theme.foreground};\n\n  @media (max-width: 768px) {\n    padding: 16px;\n  }\n\n  @media (max-width: ${props => (props.wide ? '600px' : '375px')}) {\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n  }\n`;\n\nexport default FormWrapper;\n","import { transition } from \"components/shared/helpers\";\nimport LoadingIndicatorSpinner from \"components/shared/LoadingIndicator/Spinner\";\nimport styled from \"styled-components/macro\";\nimport FormWrapper from \"./Wrapper\";\n\nconst StyledForm = styled.form`\n  ${transition(\"filter\")};\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  ${(props) =>\n    props.loading &&\n    \"filter: grayscale(0.5) blur(5px) opacity(0.6); pointer-events: none\"};\n`;\n\nconst Form = ({ className, wide, ...props }) => (\n  <FormWrapper className={className} wide={wide}>\n    <StyledForm {...props} />\n    {props.loading && <LoadingIndicatorSpinner />}\n  </FormWrapper>\n);\n\nexport default Form;\n","import styled from \"styled-components/macro\";\nimport { transition } from \"../helpers\";\n\nconst Input = styled.input`\n  ${transition(\"border\", \"box-shadow\")};\n\n  --border: ${(props) =>\n    props.error ? props.theme.error : props.theme.accent};\n  --shadow: ${(props) =>\n    props.error ? props.theme.error + \"4d\" : props.theme.accent + \"4d\"};\n\n  display: block;\n  ${(props) =>\n    props.error\n      ? `\n    border: 1px solid var(--border)\n    `\n      : `\n    border: 1px solid ${props.theme.border}\n  `};\n  border-radius: 3px;\n  width: 100%;\n  padding: 8px;\n  background-color: ${(props) => props.theme.inputBackground};\n  font-size: 15px;\n  color: ${(props) => props.theme.normalText};\n  appearance: none;\n  outline: none;\n  resize: vertical;\n  margin-bottom: 5px;\n\n  :hover,\n  :focus {\n    border: 1px solid var(--border);\n  }\n\n  :focus {\n    box-shadow: 0 0 0 2px var(--shadow);\n  }\n`;\n\nexport default Input;\n","import styled from 'styled-components/macro';\n\nconst InputWrapper = styled.div`\n  position: relative;\n  margin-bottom: 24px;\n  width: 100%;\n`;\n\nexport default InputWrapper;\n","import styled from \"styled-components/macro\";\nimport { smallFont } from \"../helpers\";\n\nconst Label = styled.label`\n  ${smallFont};\n\n  display: block;\n  margin-bottom: 8px;\n  color: ${(props) => props.theme.mutedText};\n`;\n\nexport default Label;\n","import styled from \"styled-components\";\nimport { transition, wideFont } from \"components/shared/helpers\";\n\nconst Label = styled.label`\n  ${transition(\"color\", \"background-color\")};\n  ${wideFont};\n\n  display: block;\n  flex: 1 1 100%;\n  border: 1px solid ${(props) => props.theme.accent};\n  width: 100%;\n  padding: 8px;\n  background: ${(props) => (props.active ? props.theme.accent : \"transparent\")};\n  cursor: pointer;\n  text-align: center;\n  color: ${(props) => (props.active ? \"#ffffff\" : props.theme.accent)};\n  outline: 0;\n\n  @media (hover: hover) {\n    :hover {\n      background: ${(props) => props.theme.accent};\n      color: #ffffff;\n    }\n  }\n\n  :first-of-type {\n    border-radius: 3px 0 0 3px;\n  }\n\n  :last-of-type {\n    border-radius: 0 3px 3px 0;\n  }\n\n  :not(:first-of-type) {\n    border-left: 0;\n  }\n`;\n\nconst RadioGroupOption = (props) => (\n  <>\n    <input\n      type=\"radio\"\n      name=\"radiogroup\"\n      id={props.value}\n      onChange={props.onClick}\n    />\n    <Label htmlFor={props.value} active={props.active}>\n      {props.label}\n    </Label>\n  </>\n);\n\nexport default RadioGroupOption;\n","import styled from \"styled-components\";\nimport RadioGroupOption from \"./Option\";\n\nexport const RadioGroupWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n\n  input[type=\"radio\"] {\n    display: none;\n  }\n`;\n\nfunction handleClick(e, value, fn) {\n  e.preventDefault();\n  fn(value);\n}\n\nconst renderOptions = (field) => {\n  return field.options.map((option, key) => (\n    <RadioGroupOption\n      {...option}\n      active={field.input.value === option.value}\n      onClick={(e) => handleClick(e, option.value, field.input.onChange)}\n      key={key}\n    />\n  ));\n};\n\nconst RadioGroup = ({ field }) => (\n  <RadioGroupWrapper>{renderOptions(field)}</RadioGroupWrapper>\n);\n\nexport default RadioGroup;\n","import styled from 'styled-components/macro';\n\nconst SelectWrapper = styled.div`\n  position: relative;\n  ${props => props.flex && 'flex: 1'};\n  \n  ::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    right: 0;\n    transform: translate(-150%, calc(-50% - 2px)) rotate(45deg);\n    border-bottom: 2px solid ${props => props.theme.accent};\n    border-right: 2px solid ${props => props.theme.accent};\n    width: 8px;\n    height: 8px;\n    pointer-events: none;\n  }\n`;\n\nexport default SelectWrapper;\n","import styled from \"styled-components/macro\";\nimport { transition, wideFont } from \"./helpers\";\n\nconst Button = styled.button`\n  ${transition(\"filter\", \"box-shadow\")};\n  ${wideFont};\n\n  border: none;\n  border-radius: 3px;\n  padding: 8px 24px;\n  background-color: ${(props) => props.theme.accent};\n  cursor: pointer;\n  color: #ffffff;\n  outline: none;\n\n  :hover {\n    filter: brightness(110%);\n  }\n\n  :active {\n    filter: brightness(90%);\n  }\n\n  :focus {\n    box-shadow: 0 0 0 2px ${(props) => props.theme.accent + \"4d\"};\n  }\n`;\n\nexport default Button;\n","import styled from 'styled-components/macro';\nimport Button from '../Button';\n\nconst SubmitButton = styled(Button)`\n  align-self: flex-end;\n`;\n\nexport default SubmitButton;\n","import categories from \"categories\";\nimport Error from \"components/shared/form/Error\";\nimport Form from \"components/shared/form/Form\";\nimport Input from \"components/shared/form/Input\";\nimport InputWrapper from \"components/shared/form/InputWrapper\";\nimport Label from \"components/shared/form/Label\";\nimport { RadioGroupWrapper } from \"components/shared/form/RadioGroup\";\nimport RadioGroupOption from \"components/shared/form/RadioGroup/Option\";\nimport SelectWrapper from \"components/shared/form/SelectWrapper\";\nimport SubmitButton from \"components/shared/form/SubmitButton\";\nimport { createPost, getTimestamp } from \"lib/firebase\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useMutation } from \"react-query\";\nimport useStore from \"store\";\n\nimport isURL from \"validator/lib/isURL\";\n\nconst postTypes = [\n  {\n    label: \"link\",\n    value: \"link\",\n  },\n  {\n    label: \"text\",\n    value: \"text\",\n  },\n];\n\nexport default function CreatePost({ history }) {\n  const [type, setType] = useState(\"text\");\n  const user = useStore((s) => s.user);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ mode: \"onBlur\" });\n\n  const mutation = useMutation(createPost, {\n    onSuccess: ({ category, id }) => {\n      history.push(`/a/${category}/${id}`);\n    },\n  });\n\n  const onSubmit = (data) => {\n    const { title, url, text, category } = data;\n    if (!user) {\n      throw new Error(\"Login to create post\");\n    }\n    const post = {\n      category,\n      type,\n      title,\n      views: 0,\n      score: 1,\n      created: getTimestamp(),\n      upvotePercentage: 100,\n      votes: { [user.uid]: 1 },\n      author: { uid: user.uid, username: user.username },\n    };\n    if (type === \"text\") {\n      post.text = text;\n    } else {\n      post.url = url;\n    }\n    mutation.mutate(post);\n  };\n\n  return (\n    <Form onSubmit={handleSubmit(onSubmit)} wide>\n      <InputWrapper>\n        <RadioGroupWrapper>\n          {postTypes.map((option, index) => (\n            <RadioGroupOption\n              {...option}\n              key={index}\n              onClick={() => setType(option.value)}\n              active={option.value === type}\n            />\n          ))}\n        </RadioGroupWrapper>\n      </InputWrapper>\n      <InputWrapper>\n        <Label>category</Label>\n        <SelectWrapper>\n          <Input\n            {...register(\"category\", {\n              required: \"Select a category\",\n            })}\n            type=\"select\"\n            as=\"select\"\n            defaulValue={categories[0]}\n          >\n            {categories.map((c, index) => (\n              <option key={index} value={c}>\n                {c}\n              </option>\n            ))}\n          </Input>\n        </SelectWrapper>\n        <Error>{errors.category?.message}</Error>\n      </InputWrapper>\n      <InputWrapper>\n        <Label>title</Label>\n        <Input\n          {...register(\"title\", {\n            required: \"Title is required\",\n            minLength: {\n              value: 5,\n              message: \"Must be at least 5 characters\",\n            },\n            maxLength: {\n              value: 50,\n              message: \"Must be less than 50 characters\",\n            },\n          })}\n          type=\"text\"\n          placeholder=\"title\"\n        />\n        <Error>{errors.title?.message}</Error>\n      </InputWrapper>\n      {type === \"link\" && (\n        <InputWrapper>\n          <Label>url</Label>\n          <Input\n            {...register(\"url\", {\n              validate: (value) => {\n                return isURL(value || \"Provide a valid URL\");\n              },\n            })}\n            placeholeder=\"url\"\n          />\n          <Error>{errors.url?.message}</Error>\n        </InputWrapper>\n      )}\n      {type === \"text\" && (\n        <InputWrapper>\n          <Label>text</Label>\n          <Input\n            {...register(\"text\", {\n              required: \"Text is required\",\n              minLength: {\n                value: 5,\n                message: \"Must be at least 5 characters\",\n              },\n              maxLength: {\n                value: 10000,\n                message: \"Must be less than 10,000 characters\",\n              },\n            })}\n            as=\"textarea\"\n            placeholder=\"text\"\n            rows=\"6\"\n          />\n          <Error>{errors.text?.message}</Error>\n        </InputWrapper>\n      )}\n      <SubmitButton type=\"submit\">create post</SubmitButton>\n    </Form>\n  );\n}\n","import Button from \"components/shared/Button\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components/macro\";\n\nconst CreatePostButton = styled(Button)`\n  display: flex;\n  align-items: center;\n  border-radius: 0;\n  padding: 0 16px;\n  text-decoration: none;\n`;\n\nexport default function CategoryMenuCreatePostButton() {\n  return (\n    <CreatePostButton as={Link} to=\"/createpost\">\n      create post\n    </CreatePostButton>\n  );\n}\n","import categories from \"categories\";\nimport SelectWrapper from \"components/shared/form/SelectWrapper\";\nimport styled from \"styled-components/macro\";\n\nconst Dropdown = styled.select`\n  border: none;\n  border-radius: 0;\n  width: 100%;\n  padding: 8px 16px;\n  background-color: ${(props) => props.theme.foreground};\n  font-size: 15px;\n  color: ${(props) => props.theme.normalText};\n  appearance: none;\n`;\n\nexport default function CategoryMenuDropdown({ category, history }) {\n  function onChange(event) {\n    const selected = event.target.value;\n\n    if (selected !== category) {\n      const url = selected === \"all\" ? \"/\" : `/a/${selected}`;\n      history.push(url);\n    }\n  }\n\n  return (\n    <SelectWrapper flex>\n      <Dropdown value={category} onChange={onChange}>\n        {[\"all\", ...categories].map((category, index) => (\n          <option key={index} value={category}>\n            {category}\n          </option>\n        ))}\n      </Dropdown>\n    </SelectWrapper>\n  );\n}\n","import useStore from \"store\";\nimport styled from \"styled-components/macro\";\nimport CategoryMenuCreatePostButton from \"./CreatePostButton\";\nimport CategoryMenuDropdown from \"./Dropdown\";\n\nconst Menu = styled.nav`\n  display: none;\n  border: 1px solid ${(props) => props.theme.border};\n  border-left: none;\n  border-right: none;\n\n  @media (max-width: 768px) {\n    display: flex;\n  }\n`;\n\nexport default function CategoryMenu() {\n  const user = useStore(s => s.user);\n  return (\n    <Menu>\n      <CategoryMenuDropdown />\n      {user && <CategoryMenuCreatePostButton />}\n    </Menu>\n  );\n}\n","import { wideFont } from \"components/shared/helpers\";\nimport styled from \"styled-components/macro\";\n\nconst Header = styled.span`\n  ${wideFont};\n\n  display: block;\n  padding: 12px;\n  text-align: center;\n  color: ${(props) => props.theme.mutedText};\n`;\n\nexport default function SidebarCategoryListHeader() {\n  return <Header>categories</Header>;\n}\n","import NavLink from \"components/shared/NavLink\";\nimport styled from \"styled-components/macro\";\n\nconst Item = styled(NavLink)`\n  padding: 12px;\n  font-size: 15px;\n  text-decoration: none;\n  color: ${(props) => props.theme.normalText};\n\n  ::after {\n    left: -1px;\n    top: 0;\n    bottom: 0;\n    border-left: 3px solid ${(props) => props.theme.accent};\n  }\n`;\n\nexport default function SidebarCategoryListItem({ category }) {\n  const isAll = category === \"all\";\n\n  return (\n    <Item exact={isAll} to={isAll ? \"/\" : `/a/${category}`}>\n      {category}\n    </Item>\n  );\n}\n","import categories from \"categories\";\nimport styled from \"styled-components/macro\";\nimport SidebarCategoryListHeader from \"./Header\";\nimport SidebarCategoryListItem from \"./Item\";\n\nconst CategoryList = styled.nav`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport default function SidebarCategoryList() {\n  return (\n    <CategoryList>\n      <SidebarCategoryListHeader />\n      {[\"all\", ...categories].map((category, index) => (\n        <SidebarCategoryListItem key={index} category={category} />\n      ))}\n    </CategoryList>\n  );\n}\n","import Button from \"components/shared/Button\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components/macro\";\n\nconst CreatePostButton = styled(Button)`\n  border-radius: 2px 2px 0 0;\n  padding: 16px;\n  text-decoration: none;\n  text-align: center;\n`;\n\nexport default function SidebarCreatePostButton() {\n  return (\n    <CreatePostButton as={Link} to=\"/createpost\">\n      create post\n    </CreatePostButton>\n  );\n}\n","import useStore from \"store\";\nimport styled from \"styled-components/macro\";\nimport SidebarCategoryList from \"./CategoryList\";\nimport SidebarCreatePostButton from \"./CreatePostButton\";\n\nconst Wrapper = styled.aside`\n  display: flex;\n  flex-direction: column;\n  flex-basis: 240px;\n  margin-left: 24px;\n  border: 1px solid ${(props) => props.theme.border};\n  border-radius: 2px;\n  background-color: ${(props) => props.theme.foreground};\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n`;\n\nexport default function Sidebar() {\n  const user = useStore((s) => s.user);\n  return (\n    <Wrapper>\n      {user && <SidebarCreatePostButton />}\n      <SidebarCategoryList />\n    </Wrapper>\n  );\n}\n","import SubmitButton from \"components/shared/form/SubmitButton\";\nimport styled from \"styled-components/macro\";\n\nconst StyledSubmitButton = styled(SubmitButton)`\n  margin: 4px;\n  padding: 4px 12px;\n`;\n\nexport default function CommentFormSubmitButton() {\n  return <StyledSubmitButton type=\"submit\">submit</StyledSubmitButton>;\n}\n","import Error from \"components/shared/form/Error\";\nimport Form from \"components/shared/form/Form\";\nimport Input from \"components/shared/form/Input\";\nimport { transition } from \"components/shared/helpers\";\nimport { createComment, getTimestamp } from \"lib/firebase\";\nimport { useForm } from \"react-hook-form\";\nimport toast from \"react-hot-toast\";\nimport { useMutation, useQueryClient } from \"react-query\";\nimport useStore from \"store\";\nimport styled from \"styled-components/macro\";\nimport CommentFormSubmitButton from \"./SubmitButton\";\n\nconst StyledForm = styled(Form)`\n  ${transition(\"border\", \"box-shadow\")};\n\n  margin-top: -1px;\n  border: 1px solid ${(props) => props.theme.border};\n  border-radius: 0 0 2px 2px;\n  max-width: none;\n  padding: 0;\n\n  @media (hover: hover) {\n    :hover {\n      border: 1px solid ${(props) => props.theme.accent};\n    }\n  }\n\n  :focus-within {\n    border: 1px solid ${(props) => props.theme.accent};\n    box-shadow: 0 0 0 2px ${(props) => props.theme.accent + \"4d\"};\n  }\n\n  @media (max-width: 768px) {\n    margin-top: -1px;\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n\n    :hover,\n    :focus-within {\n      border-left: none;\n      border-right: none;\n    }\n  }\n`;\n\nconst CommentFormTextArea = styled(Input)`\n  margin: 0;\n  border: none;\n  border-bottom: 1px solid ${(props) => props.theme.border};\n  border-radius: 0;\n  resize: none;\n\n  :hover,\n  :focus {\n    border: none;\n    border-bottom: 1px solid ${(props) => props.theme.border};\n    box-shadow: none;\n  }\n`;\n\nexport default function CommentForm({ postId }) {\n  const user = useStore((s) => s.user);\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm({ mode: \"onBlur\" });\n\n  const queryClient = useQueryClient()\n\n  const mutation = useMutation(createComment, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(['comments', postId])\n      toast.success(\"Comment created\");\n      reset()\n    }\n  });\n\n  const onSubmit = ({ commentText }) => {\n    mutation.mutate({\n      postId,\n      body: commentText,\n      created: getTimestamp(),\n      author: {\n        username: user.username,\n        uid: user.uid,\n      },\n    });\n  };\n\n  return (\n    <StyledForm onSubmit={handleSubmit(onSubmit)}>\n      <CommentFormTextArea\n        {...register(\"commentText\", {\n          required: \"Comment text is required\",\n          minLength: {\n            value: 5,\n            message: \"Must be at least 5 characters\",\n          },\n          maxLength: {\n            value: 10000,\n            message: \"Must be less than 10,000 characters\",\n          },\n        })}\n        as=\"textarea\"\n        placeholder=\"enter your comment\"\n        rows=\"6\"\n      />\n      <Error>{errors.commentText?.message}</Error>\n      <CommentFormSubmitButton />\n    </StyledForm>\n  );\n}\n","import styled from \"styled-components/macro\";\nimport { css } from \"styled-components\";\n\nconst headingSizes = {\n  h1: 1.75,\n  h2: 1.5,\n  h3: 1.25,\n  h4: 1.1,\n  h5: 0.9,\n  h6: 0.75,\n};\n\nconst headingStyle = (level) => css`\n  margin-top: 1em;\n  margin-bottom: 0.75em;\n  line-height: 1;\n  font-size: ${headingSizes[level]}em;\n  font-weight: 500;\n`;\n\nconst Heading = styled.span`\n  ${(props) => headingStyle(props.as)};\n\n  & + h1,\n  & + h2,\n  & + h3,\n  & + h4,\n  & + h5,\n  & + h6 {\n    margin-top: 0;\n  }\n`;\n\nconst headingRenderer = (props) => {\n  const levelString = `h${props.level}`;\n  return <Heading as={levelString}>{props.children}</Heading>;\n};\n\nexport default headingRenderer;\n","import styled from \"styled-components/macro\";\nimport { transition } from \"../../helpers\";\n\nconst Link = styled.a`\n  ${transition(\"color\")};\n\n  text-decoration: underline;\n  color: ${(props) => props.theme.accent};\n\n  :hover {\n    filter: brightness(110%);\n  }\n`;\n\nconst linkRenderer = (props) => <Link {...props} />;\n\nexport default linkRenderer;\n","import styled from \"styled-components/macro\";\n\nconst Pre = styled.pre`\n  border-radius: 2px;\n  padding: 12px 16px;\n  background-color: ${(props) => props.theme.pageBackground};\n  overflow-x: scroll;\n`;\n\nconst codeRenderer = (props) => (\n  <Pre>\n    <code>{props.value}</code>\n  </Pre>\n);\n\nexport default codeRenderer;\n","import styled from \"styled-components/macro\";\n\nconst InlineCode = styled.code`\n  border-radius: 2px;\n  padding: 0.2em 0.4em;\n  background-color: ${(props) => props.theme.pageBackground};\n`;\n\nconst inlineCodeRenderer = (props) => <InlineCode {...props} />;\n\nexport default inlineCodeRenderer;\n","import styled from \"styled-components/macro\";\n\nconst Table = styled.table`\n  border-collapse: collapse;\n`;\n\nconst tableRenderer = (props) => <Table {...props} />;\n\nexport default tableRenderer;\n","import styled from \"styled-components/macro\";\nimport { css } from \"styled-components\";\n\nconst tableHeader = css`\n  text-align: center;\n  font-weight: 600;\n`;\n\nconst tableCell = (isHeader) => css`\n  ${isHeader && tableHeader};\n  border: 1px solid ${(props) => props.theme.border};\n  padding: 0 0.75em;\n`;\n\nconst TableCell = styled.td`\n  ${(props) => tableCell(props.as === \"th\")};\n  line-height: 2;\n`;\n\nconst tableCellRenderer = (props) => {\n  if (props.isHeader) return <TableCell as=\"th\">{props.children}</TableCell>;\n  return <TableCell>{props.children}</TableCell>;\n};\n\nexport default tableCellRenderer;\n","import styled from \"styled-components/macro\";\n\nconst ThematicBreak = styled.hr`\n  margin: 1em 0;\n  border: none;\n  border-bottom: 1px solid ${(props) => props.theme.border};\n`;\n\nconst thematicBreakRenderer = () => <ThematicBreak />;\n\nexport default thematicBreakRenderer;\n","import styled from \"styled-components/macro\";\n\nconst List = styled.ul`\n  margin-block-start: 0.5em;\n  margin-block-end: 0.5em;\n  margin-inline-start: 0px;\n  margin-inline-end: 0px;\n  padding-inline-start: 1em;\n  padding-left: 2em;\n  line-height: 1.75;\n`;\n\nconst listRenderer = (props) => {\n  if (props.ordered) return <List as=\"ol\">{props.children}</List>;\n  return <List>{props.children}</List>;\n};\n\nexport default listRenderer;\n","import headingRenderer from \"./heading\";\nimport linkRenderer from \"./link\";\nimport codeRenderer from \"./code\";\nimport inlineCodeRenderer from \"./inlineCode\";\nimport tableRenderer from \"./table\";\nimport tableCellRenderer from \"./tableCell\";\nimport thematicBreakRenderer from \"./thematicBreak\";\nimport listRenderer from \"./list\";\n\nconst renderers = {\n  heading: headingRenderer,\n  link: linkRenderer,\n  code: codeRenderer,\n  inlineCode: inlineCodeRenderer,\n  table: tableRenderer,\n  tableCell: tableCellRenderer,\n  thematicBreak: thematicBreakRenderer,\n  list: listRenderer,\n  html: (props) => <p>{props.value}</p>,\n};\n\nexport default renderers;\n","import styled from \"styled-components/macro\";\nimport ReactMarkdown from \"react-markdown\";\nimport breaks from \"remark-breaks\";\nimport renderers from \"./renderers\";\n\nconst StyledReactMarkdown = styled(ReactMarkdown)`\n  color: ${(props) => props.theme.normalText};\n  font-size: 15px;\n  line-height: 1.5;\n\n  p,\n  ol,\n  ul,\n  pre,\n  table {\n    margin-bottom: 0.5em;\n  }\n\n  code {\n    font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier,\n      monospace;\n    font-size: 14px;\n    line-height: 1.25;\n  }\n\n  > :last-child {\n    margin-bottom: 0;\n  }\n\n  > :first-child {\n    margin-top: 0;\n  }\n`;\n\nconst allowed = [\n  \"text\",\n  \"paragraph\",\n  \"emphasis\",\n  \"strong\",\n  \"delete\",\n  \"heading\",\n  \"link\",\n  \"code\",\n  \"table\",\n  \"tableHead\",\n  \"tableBody\",\n  \"tableRow\",\n  \"tableCell\",\n  \"html\",\n  \"thematicBreak\",\n  \"list\",\n  \"listItem\",\n  \"inlineCode\",\n];\n\nconst Markdown = (props) => (\n  <StyledReactMarkdown\n    source={props.children}\n    plugins={[breaks]}\n    allowedTypes={allowed}\n    renderers={renderers}\n    unwrapDisallowed\n  />\n);\n\nexport default Markdown;\n","import styled from \"styled-components/macro\";\nimport Markdown from \"components/shared/Markdown\";\n\nconst Content = styled.div`\n  padding: 12px;\n`;\n\nexport default function CommentContent({ children }) {\n  return (\n    <Content>\n      <Markdown>{children}</Markdown>\n    </Content>\n  );\n}\n","import styled from \"styled-components/macro\";\nimport { Link } from \"react-router-dom\";\nimport { link } from \"./helpers\";\n\nconst StyledLink = styled(Link)`\n  ${link};\n\n  font-weight: 500;\n  color: ${(props) => props.theme.normalText};\n`;\n\nexport default function Author({ username }) {\n  return <StyledLink to={`/u/${username}`}>{username}</StyledLink>;\n}\n","import styled from \"styled-components/macro\";\nimport { link } from \"./helpers\";\n\nconst Button = styled.button`\n  ${link};\n\n  border: none;\n  outline: none;\n  background-color: transparent;\n  cursor: pointer;\n  font-size: 13px;\n  color: ${(props) => props.theme.normalText};\n  margin-left: auto;\n`;\n\nconst DeleteButton = (props) => <Button onClick={props.onClick}>delete</Button>;\n\nexport default DeleteButton;\n","import Author from \"components/shared/Author\";\nimport DeleteButton from \"components/shared/DeleteButton\";\nimport dayjs from \"dayjs\";\nimport { deleteComment } from \"lib/firebase\";\nimport toast from \"react-hot-toast\";\nimport { useMutation, useQueryClient } from \"react-query\";\nimport { useParams } from \"react-router\";\nimport useStore from \"store\";\nimport styled from \"styled-components/macro\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  border-bottom: 1px solid ${(props) => props.theme.border};\n  padding: 8px;\n  font-size: 13px;\n`;\n\nconst Timestamp = styled.span`\n  margin-left: 4px;\n  color: ${(props) => props.theme.mutedText};\n`;\n\nexport default function CommentDetail({ id, author, created }) {\n  const user = useStore(s => s.user)\n  const isAuthor = user?.uid === author.uid;\n  const { postId } = useParams()\n  const queryClient = useQueryClient()\n  const mutation = useMutation(deleteComment, {\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"comments\", postId])\n      toast.success(\"Comment deleted\")\n    }\n  })\n\n  return (\n    <Wrapper>\n      <Author username={author.username} />\n      <Timestamp>{dayjs(created.toDate()).fromNow()}</Timestamp>\n      {isAuthor && <DeleteButton onClick={() => mutation.mutate({\n        postId, commentId: id\n      })} />}\n    </Wrapper>\n  );\n}\n","import styled from \"styled-components/macro\";\nimport CommentContent from \"./Content\";\nimport CommentDetail from \"./Detail\";\n\nconst Wrapper = styled.div`\n  margin-bottom: 8px;\n  border: 1px solid ${(props) => props.theme.border};\n  border-radius: 2px;\n  background-color: ${(props) => props.theme.foreground};\n\n  @media (max-width: 768px) {\n    border-left: none;\n    border-right: none;\n    border-radius: 0;\n  }\n`;\n\nexport default function CommentListItem({ comment }) {\n  const { body, ...details } = comment;\n  return (\n    <Wrapper>\n      <CommentDetail {...details} />\n      <CommentContent>{body}</CommentContent>\n    </Wrapper>\n  );\n}\n","import styled from \"styled-components/macro\";\nimport CommentListItem from \"./Item\";\n\nconst List = styled.ul`\n  margin-top: 16px;\n  list-style: none;\n`;\n\nexport default function CommentList({comments}) {\n  return <List>\n    {comments.map(comment => (\n      <CommentListItem key={comment.id} comment={comment} />\n    ))}\n  </List>;\n}\n","import Author from \"components/shared/Author\";\nimport { link } from \"components/shared/helpers\";\nimport dayjs from \"dayjs\";\nimport { getCommentCount } from \"lib/firebase\";\nimport { useQuery } from \"react-query\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components/macro\";\n\n\nconst Wrapper = styled.div`\n  font-size: 13px;\n  margin-top: auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  & > * {\n    margin-right: 4px;\n  }\n\n  & > a {\n    ${link};\n  }\n\n  & > span {\n    color: ${(props) => props.theme.mutedText};\n  }\n`;\n\nexport default function PostContentDetail({ post }) {\n  const { category, id, author, created } = post;\n  const { data: commentCount } = useQuery([\"commentCount\", id], () => getCommentCount(id))\n  return (\n    <Wrapper>\n      <Link to={`/a/${category}/${id}`}>{commentCount} comment{commentCount !== 1 ? \"s\" : \"\"}</Link>\n      <Link to={`/a/${category}`}>/a/{category}</Link>\n      <span>by</span>\n      <Author username={author.username} />\n      <span>{dayjs(created.toDate()).fromNow()}</span>\n    </Wrapper>\n  );\n}\n","import Markdown from \"components/shared/Markdown\";\nimport styled from \"styled-components/macro\";\n\nconst Wrapper = styled.div`\n  margin: 8px -8px;\n  border: 1px solid ${(props) => props.theme.border};\n  border-left: none;\n  border-right: none;\n  padding: 8px;\n  background-color: ${(props) => props.theme.inputBackground};\n`;\n\nconst PostContentFullText = (props) => (\n  <Wrapper>\n    <Markdown>{props.children}</Markdown>\n  </Wrapper>\n);\n\nexport default PostContentFullText;\n","import styled from \"styled-components/macro\";\nimport { overflow } from \"components/shared/helpers\";\n\nconst PostContentPreview = styled.div`\n  ${overflow};\n\n  max-width: 800px;\n  padding-bottom: 1px;\n  font-size: 13px;\n  line-height: 19px;\n  color: ${(props) => props.theme.mutedText};\n`;\n\nexport default PostContentPreview;\n","import { link, overflow } from \"components/shared/helpers\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components/macro\";\n\nconst Wrapper = styled.div`\n  display: flex;\n\n  * {\n    ${overflow};\n\n    display: block;\n    font-size: 15px;\n    line-height: 21px;\n    font-weight: 500;\n    text-decoration: none;\n    color: ${(props) => props.theme.normalText};\n    ${(props) => props.full && \"white-space: unset\"};\n  }\n\n  a {\n    ${link({ underline: true })};\n  }\n`;\n\nexport default function PostContentTitle({ post, full }) {\n  return <Wrapper full={full}>{renderTitle(post, full)}</Wrapper>;\n}\n\nfunction renderTitle(post, full) {\n  const { type, url, title, id, category } = post;\n\n  switch (type) {\n    case \"link\":\n      return <a href={url}>{title}</a>;\n    case \"text\":\n      if (full) return <span>{title}</span>;\n      return <Link to={`/a/${category}/${id}`}>{title}</Link>;\n    default:\n      break;\n  }\n}\n","import styled from \"styled-components/macro\";\nimport PostContentDetail from \"./Detail\";\nimport PostContentFullText from \"./FullText\";\nimport PostContentPreview from \"./Preview\";\nimport PostContentTitle from \"./Title\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  border-left: 1px solid ${(props) => props.theme.border};\n  padding: 8px;\n  min-width: 0;\n`;\n\nexport default function PostContent({ post, full }) {\n  return (\n    <Wrapper>\n      <PostContentTitle post={post} full={full} />\n      {renderContent(post, full)}\n      <PostContentDetail post={post} />\n    </Wrapper>\n  );\n}\n\nfunction renderContent(post, full) {\n  const { type, url, text } = post;\n\n  switch (type) {\n    case \"link\":\n      return <PostContentPreview>{url}</PostContentPreview>;\n    case \"text\":\n      if (full) {\n        return <PostContentFullText>{text}</PostContentFullText>;\n      }\n      return <PostContentPreview>{text}</PostContentPreview>;\n    default:\n      return;\n  }\n}\n","import styled from \"styled-components/macro\";\nimport { transition } from \"components/shared/helpers\";\n\nconst PostVoteButton = styled.button`\n  ${transition(\"background-color\")};\n\n  border: 0;\n  border-radius: 3px;\n  height: 22px;\n  width: 22px;\n  background-color: transparent;\n  cursor: pointer;\n\n  :focus {\n    outline: 0;\n  }\n\n  :hover {\n    background-color: ${(props) => props.theme.voteButtonHover};\n  }\n\n  ::after {\n    ${transition(\"border\")};\n\n    content: \"\";\n    position: relative;\n    left: 6px;\n    display: block;\n    transform: rotate(-45deg);\n    width: 8px;\n    height: 8px;\n  }\n\n  ${({ canVote }) =>\n    !canVote &&\n    `\n    cursor: default;\n    pointer-events: none;\n  `}\n`;\n\nexport default PostVoteButton;\n","import styled from 'styled-components/macro';\nimport PostVoteButton from './Button';\n\nconst PostVoteDownvote = styled(PostVoteButton)`\n  --iconColor: ${props =>\n    props.didVote ? props.theme.downvote : props.theme.vote};\n\n  ::after {\n    border-bottom: 2px solid var(--iconColor);\n    border-left: 2px solid var(--iconColor);\n    top: -2px;\n  }\n`;\n\nexport default PostVoteDownvote;\n","import styled from \"styled-components/macro\";\nimport PostVoteButton from \"./Button\";\n\nconst PostVoteUpvote = styled(PostVoteButton)`\n  --iconColor: ${(props) =>\n    props.didVote ? props.theme.upvote : props.theme.vote};\n\n  ::after {\n    border-top: 2px solid var(--iconColor);\n    border-right: 2px solid var(--iconColor);\n    top: 3px;\n  }\n`;\n\nexport default PostVoteUpvote;\n","import { toggleVote } from \"lib/firebase\";\nimport { useMutation, useQueryClient } from \"react-query\";\nimport { useLocation } from \"react-router\";\nimport useStore from \"store\";\nimport styled from \"styled-components/macro\";\nimport PostVoteDownvote from \"./Downvote\";\nimport PostVoteUpvote from \"./Upvote\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 30px;\n  padding: 4px;\n  font-size: 12px;\n  line-height: 25px;\n  font-weight: 500;\n  text-align: center;\n  color: ${(props) => props.theme.normalText};\n`;\n\nexport default function PostVote({ post }) {\n  const user = useStore((s) => s.user);\n  const userId = user?.uid;\n  const { id: postId, score, votes } = post;\n  const didUpvote = votes[userId] === 1;\n  const didDownvote = votes[userId] === -1;\n  const queryClient = useQueryClient();\n  const location = useLocation();\n  const mutation = useMutation(toggleVote, {\n    onSuccess: () => {\n      const isHomePage = location.pathname === \"/\"\n      queryClient.invalidateQueries(isHomePage ? \"posts\" : [\"post\", postId]);\n    }\n  })\n\n  const onUpvote = () => {\n    mutation.mutate({ userId, postId, value: 1 })\n  }\n  const onDownvote = () => {\n    mutation.mutate({ userId, postId, value: -1 })\n  }\n\n  return (\n    <Wrapper>\n      <PostVoteUpvote onClick={onUpvote} canVote={user} didVote={didUpvote} />\n      <span>{score}</span>\n      <PostVoteDownvote onClick={onDownvote} canVote={user} didVote={didDownvote} />\n    </Wrapper>\n  );\n}\n","import styled from \"styled-components/macro\";\nimport PostContent from \"./Content\";\nimport PostVote from \"./Vote\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  height: auto;\n  background-color: ${(props) => props.theme.foreground};\n`;\n\nexport default function Post({ post, full }) {\n  return (\n    <Wrapper>\n      <PostVote post={post} />\n      <PostContent post={post} full={full} />\n    </Wrapper>\n  );\n}\n","import styled from \"styled-components/macro\";\nimport { smallFont } from \"components/shared/helpers\";\n\nconst Wrapper = styled.div`\n  ${smallFont};\n\n  ${(props) => props.comments && \"margin-top: 16px\"};\n  border: 1px solid ${(props) => props.theme.border};\n  border-radius: 2px;\n  padding: 48px 0;\n  background-color: ${(props) => props.theme.foreground};\n  text-align: center;\n  color: ${(props) => props.theme.mutedText};\n\n  @media (max-width: 768px) {\n    ${(props) => !props.comments && \"margin-top: -1px\"};\n    border-left: none;\n    border-right: none;\n    border-radius: 0;\n  }\n`;\n\nexport default function Empty({ comments }) {\n  const message = comments ? \"no comments\" : \"there's nothing here...\";\n  return <Wrapper comments={comments}>{message}</Wrapper>;\n}\n","import styled from \"styled-components/macro\";\nimport LoadingIndicatorSpinner from \"./Spinner\";\n\nconst Box = styled.div`\n  position: relative;\n  margin: 48px auto 0;\n  border: 1px solid ${(props) => props.theme.border};\n  border-radius: 2px;\n  width: 72px;\n  height: 72px;\n  background-color: ${(props) => props.theme.foreground};\n`;\n\nexport default function LoadingIndicatorBox() {\n  return (\n    <Box>\n      <LoadingIndicatorSpinner />\n    </Box>\n  );\n}\n","import CommentForm from \"components/CommentForm\";\nimport CommentList from \"components/CommentList\";\nimport Post from \"components/Post\";\nimport DeleteButton from \"components/shared/DeleteButton\";\nimport Empty from \"components/shared/Empty\";\nimport LoadingIndicatorBox from \"components/shared/LoadingIndicator/Box\";\nimport { deletePost, getCommentsByPostId, getPost } from \"lib/firebase\";\nimport { usePostViewCount } from \"lib/hooks\";\nimport toast from \"react-hot-toast\";\nimport { useMutation, useQuery } from \"react-query\";\nimport { useHistory, useParams } from \"react-router\";\nimport useStore from \"store\";\nimport styled from \"styled-components/macro\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  margin-top: -1px;\n  border: 1px solid ${(props) => props.theme.border};\n  ${(props) => props.round && \"border-radius: 0 0 2px 2px\"};\n  padding: 8px;\n  background-color: ${(props) => props.theme.foreground};\n  font-size: 13px;\n  color: ${(props) => props.theme.mutedText};\n\n  @media (max-width: 768px) {\n    border-left: none;\n    border-right: none;\n  }\n`;\n\nconst PostWrapper = styled.div`\n  overflow: hidden;\n  border: 1px solid ${(props) => props.theme.border};\n  border-radius: 2px 2px 0 0;\n\n  @media (max-width: 768px) {\n    margin-bottom: 0;\n    border-top: none;\n    border-left: none;\n    border-right: none;\n    border-radius: 0;\n  }\n`;\n\nexport default function PostDetail() {\n  const { postId } = useParams();\n  usePostViewCount(postId);\n  const user = useStore((s) => s.user);\n  const { data: post, isLoading } = useQuery([\"post\", postId], () =>\n    getPost(postId)\n  );\n\n  if (isLoading) return <LoadingIndicatorBox />;\n  if (!post) return <Empty />;\n\n  return (\n    <>\n      <PostDetailPost post={post} />\n      <PostDetailInfoBar postId={postId} post={post} user={user} />\n      {user && <CommentForm postId={postId} />}\n      <PostDetailCommentSection postId={postId} />\n    </>\n  );\n}\n\nfunction PostDetailInfoBar({ user, postId, post }) {\n  const { author, views, upvotePercentage } = post;\n  const history = useHistory();\n  const mutation = useMutation(deletePost, {\n    onSuccess: () => {\n      history.push(\"/\");\n      toast.success(\"Post deleted\");\n    },\n  });\n  const isAuthor = author.uid === user?.uid;\n  return (\n    <Wrapper round={!user}>\n      <span>{views} views</span>\n      <span>&nbsp; | &nbsp;</span>\n      <span>{upvotePercentage}% upvoted</span>\n      {isAuthor && <DeleteButton onClick={() => mutation.mutate(postId)} />}\n    </Wrapper>\n  );\n}\n\nfunction PostDetailCommentSection({ postId }) {\n  const { data: comments, isLoading } = useQuery([\"comments\", postId], () =>\n    getCommentsByPostId(postId)\n  );\n\n  if (isLoading || !comments?.length) return <Empty comments />;\n\n  return <CommentList comments={comments} />;\n}\n\nfunction PostDetailPost({ post }) {\n  return (\n    <PostWrapper>\n      <Post post={post} full />\n    </PostWrapper>\n  );\n}\n","import { useEffect } from \"react\";\nimport { addView } from \"./firebase\";\n\nexport function usePostViewCount(postId) {\n    useEffect(() => {\n        if(process.env.NODE_ENV !== \"production\") {\n            addView(postId)\n        }\n    }, [postId])\n}\n","import Post from \"components/Post\";\nimport Empty from \"components/shared/Empty\";\nimport LoadingIndicatorBox from \"components/shared/LoadingIndicator/Box\";\nimport { getPosts, getPostsByCategory, getPostsByUsername } from \"lib/firebase\";\nimport { useQuery } from \"react-query\";\nimport { useParams } from \"react-router\";\nimport styled from \"styled-components/macro\";\n\nconst List = styled.ul`\n  list-style: none;\n  border: 1px solid ${(props) => props.theme.border};\n  border-radius: 2px;\n\n  @media (max-width: 768px) {\n    border-top: none;\n    border-left: none;\n    border-right: none;\n    border-radius: 0;\n  }\n`;\n\nconst Item = styled.li`\n  :not(:first-child) {\n    border-top: 1px solid ${(props) => props.theme.border};\n  }\n`;\n\nexport default function PostList() {\n  const { username, category } = useParams();\n  const { data: posts, isLoading } = useQuery(\n    [\"posts\", username, category], () => {\n      return username\n        ? getPostsByUsername(username)\n        : category\n        ? getPostsByCategory(category)\n        : getPosts();\n    }\n  );\n  if (isLoading) return <LoadingIndicatorBox />;\n  if (!posts || !posts.length) return <Empty />;\n\n  return (\n    <List>\n      {posts.map((post) => (\n        <PostListItem key={post.id} post={post} />\n      ))}\n    </List>\n  );\n}\n\nfunction PostListItem({ post }) {\n  return (\n    <Item>\n      <Post post={post} full={false} />\n    </Item>\n  );\n}\n","import CategoryMenu from \"components/CategoryMenu\";\nimport Sidebar from \"components/Sidebar\";\nimport { Route } from \"react-router-dom\";\nimport styled from \"styled-components/macro\";\nimport PostDetail from \"./PostDetail\";\nimport PostList from \"./PostList\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: flex-start;\n  margin: 0 10vw;\n\n  @media (max-width: 1024px) {\n    margin: 0 5vw;\n  }\n\n  @media (max-width: 768px) {\n    display: block;\n    margin: 0;\n  }\n`;\n\nconst HomeMainSection = styled.main`\n  flex: 1;\n  min-width: 0;\n`;\n\nexport default function Home() {\n  return (\n    <Wrapper>\n      <HomeMainSection>\n        <Route component={CategoryMenu} />\n        <Route exact path=\"/\" component={PostList} />\n        <Route exact path=\"/a/:category\" component={PostList} />\n        <Route exact path=\"/u/:username\" component={PostList} />\n        <Route exact path=\"/a/:category/:postId\" component={PostDetail} />\n      </HomeMainSection>\n      <Route component={Sidebar} />\n    </Wrapper>\n  );\n}\n","import Error from \"components/shared/form/Error\";\nimport Form from \"components/shared/form/Form\";\nimport Input from \"components/shared/form/Input\";\nimport InputWrapper from \"components/shared/form/InputWrapper\";\nimport Label from \"components/shared/form/Label\";\nimport SubmitButton from \"components/shared/form/SubmitButton\";\nimport { loginUser } from \"lib/firebase\";\nimport { useForm } from \"react-hook-form\";\nimport toast from \"react-hot-toast\";\nimport { useMutation } from \"react-query\";\n\nexport default function Login({ history }) {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ mode: \"onBlur\" });\n\n  const mutation = useMutation(loginUser, {\n    onSuccess: () => {\n      history.replace(\"/\");\n      toast.success(\"Log in successful\");\n    },\n    onError: (error) => {\n      let message = error?.code;\n      switch (message) {\n        case \"auth/wrong-password\":\n          message = \"Password is incorrect\";\n          break;\n        case \"auth/user-not-found\":\n          message = \"User does not exist\";\n          break;\n        default:\n          break;\n      }\n      toast.error(message);\n    },\n  });\n\n  const onSubmit = (data) => {\n    const { email, password } = data;\n    mutation.mutate({ email, password });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit(onSubmit)}>\n      <InputWrapper>\n        <Label>email</Label>\n        <Input\n          {...register(\"email\", {\n            required: \"Email is required\",\n            maxLength: {\n              value: 30,\n              message: \"Must be less than 30 characters\",\n            },\n          })}\n          type=\"email\"\n        />\n        <Error>{errors.email?.message}</Error>\n      </InputWrapper>\n      <InputWrapper>\n        <Label>password</Label>\n        <Input\n          {...register(\"password\", {\n            required: \"Password is required\",\n            minLength: {\n              value: 8,\n              message: \"Must be at least 8 characters\",\n            },\n            maxLength: {\n              value: 30,\n              message: \"Must be less than 30 characters\",\n            },\n          })}\n          type=\"password\"\n        />\n        <Error>{errors.password?.message}</Error>\n      </InputWrapper>\n      <SubmitButton type=\"submit\">log in</SubmitButton>\n    </Form>\n  );\n}\n","import Error from \"components/shared/form/Error\";\nimport Form from \"components/shared/form/Form\";\nimport Input from \"components/shared/form/Input\";\nimport InputWrapper from \"components/shared/form/InputWrapper\";\nimport Label from \"components/shared/form/Label\";\nimport SubmitButton from \"components/shared/form/SubmitButton\";\nimport { checkIfUsernameTaken, signupUser } from \"lib/firebase\";\nimport { useForm } from \"react-hook-form\";\nimport toast from \"react-hot-toast\";\nimport { useMutation } from \"react-query\";\n\nexport default function Signup({ history }) {\n  const {\n    register,\n    getValues,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ mode: \"onBlur\" });\n  \n\n  const mutation = useMutation(signupUser, {\n    onSuccess: () => {\n      history.replace(\"/\");\n      window.location.reload();\n      toast.success(\"Sign up successful\");\n    },\n    onError: (error) => {\n      toast.error(error.message);\n    },\n  });\n\n  const onSubmit = (data) => {\n    const { email, password, username } = data;\n    mutation.mutate({ email, password, username });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit(onSubmit)}>\n      <InputWrapper>\n        <Label>username</Label>\n        <Input\n          {...register(\"username\", {\n            required: \"Username is required\",\n            minLength: {\n              value: 5,\n              message: \"Must be at least 5 characters\",\n            },\n            maxLength: {\n              value: 20,\n              message: \"Must be less than 20 characters\",\n            },\n            validate: (value) => checkIfUsernameTaken(value),\n          })}\n          type=\"text\"\n        />\n        <Error>{errors.username?.message}</Error>\n      </InputWrapper>\n      <InputWrapper>\n        <Label>email</Label>\n        <Input\n          {...register(\"email\", {\n            required: \"Email is required\",\n            maxLength: {\n              value: 30,\n              message: \"Must be less than 30 characters\",\n            },\n          })}\n          type=\"email\"\n        />\n        <Error>{errors.email?.message}</Error>\n      </InputWrapper>\n      <InputWrapper>\n        <Label>password</Label>\n        <Input\n          {...register(\"password\", {\n            required: \"Password is required\",\n            minLength: {\n              value: 8,\n              message: \"Must be at least 8 characters\",\n            },\n            maxLength: {\n              value: 30,\n              message: \"Must be less than 30 characters\",\n            },\n          })}\n          type=\"password\"\n        />\n        <Error>{errors.password?.message}</Error>\n      </InputWrapper>\n      <InputWrapper>\n        <Label>confirm password</Label>\n        <Input\n          {...register(\"confirm\", {\n            required: \"Confirm is required\",\n            minLength: {\n              value: 8,\n              message: \"Must be at least 8 characters\",\n            },\n            maxLength: {\n              value: 30,\n              message: \"Must be less than 30 characters\",\n            },\n            validate: (value) => {\n              const { password } = getValues();\n              return password === value || \"Passwords should match!\";\n            },\n          })}\n          type=\"password\"\n        />\n        <Error>{errors.confirm?.message}</Error>\n      </InputWrapper>\n      <SubmitButton type=\"submit\">sign up</SubmitButton>\n    </Form>\n  );\n}\n","import Header from \"components/Header\";\nimport { useAuthUser } from \"lib/firebase\";\nimport CreatePost from \"pages/CreatePost\";\nimport Home from \"pages/Home\";\nimport Login from \"pages/Login\";\nimport Signup from \"pages/Signup\";\nimport { Route, Switch } from \"react-router\";\n\nexport default function App() {\n\n  useAuthUser();\n\n  return (\n    <>\n      <Route component={Header} />\n      <Switch>\n        <Route path=\"/signup\" component={Signup} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/createpost\" component={CreatePost} />\n        <Route path=\"/\" component={Home} />\n      </Switch>\n    </>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\"\r\n\r\ndayjs.extend(relativeTime);\r\ndayjs.locale(\"en\", {\r\n    relativeTime: {\r\n        future: \"%s\",\r\n        past: \"%s ago\",\r\n        s: \"%ds\",\r\n        ss: \"%ds\",\r\n        m: \"1m\",\r\n        mm: \"%dm\",\r\n        h: \"1h\",\r\n        hh: \"%dh\",\r\n        d: \"1d\",\r\n        dd: \"%dd\",\r\n        M: \"1M\",\r\n        MM: \"%dM\",\r\n        y: \"1y\",\r\n        yy: \"%dy\"\r\n    }\r\n})","import AppProviders from \"AppProviders\";\nimport ReactDOM from \"react-dom\";\nimport \"styles/index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"lib/date-config\"\n\n\nReactDOM.render(\n  <AppProviders>\n    <App />\n  </AppProviders>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}