(this["webpackJsonpreddit-clone"]=this["webpackJsonpreddit-clone"]||[]).push([[0],{124:function(e,t,n){},207:function(e,t,n){"use strict";n.r(t);var r,o=n(24),c=n(19),a=n(97),i=n(15),s=n(23),d=n(98),u=n.n(d),l=n(99),p=u()(Object(l.persist)((function(e){return{isDarkTheme:!0,toggleTheme:function(){e((function(e){return{isDarkTheme:!e.isDarkTheme}}))},user:null,setUser:function(t){return e({user:t})},resetUser:function(){return e({user:null})}}}),{name:"reddit-rise"})),b=n(6),m=n(28),h=Object(b.b)(r||(r=Object(m.a)(["\n  body {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.pageBackground})),f=n(13),j={error:"#f5222d",vote:"#b6b6b6",upvote:"#f9920b",downvote:"#2e70ff"},x=Object(f.a)(Object(f.a)({},j),{},{normalText:"#ffffff",mutedText:"#b0b8bf",border:"#333333",accent:"#33a0ff",pageBackground:"#1b1b1b",voteButtonHover:"#383838",foreground:"#262626",activeBackground:"#333333",inputBackground:"#212121",shadow:"rgba(0, 0, 0, 0.4)"}),g=Object(f.a)(Object(f.a)({},j),{},{normalText:"#454f5b",mutedText:"#818e99",border:"#ebedf0",accent:"#1890ff",pageBackground:"#f4f6f8",voteButtonHover:"#f2f2f2",foreground:"#ffffff",activeBackground:"#fafafa",inputBackground:"#fcfcfc",shadow:"rgba(0, 0, 0, 0.05)"}),O=function(e){return e?x:g},v=n(1);function w(e){var t=e.children,n=Object(i.f)(),r=new c.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!0}}}),d=p((function(e){return e.isDarkTheme}));return Object(v.jsxs)(c.QueryClientProvider,{client:r,children:[Object(v.jsx)(a.ReactQueryDevtools,{}),Object(v.jsx)(o.a,{position:"top-center"}),Object(v.jsxs)(b.a,{theme:O(d),children:[Object(v.jsx)(h,{}),Object(v.jsx)(s.a,{history:n,children:t})]})]})}var y=n(61),k=n.n(y),C=(n(124),n(22)),_=n(0),I=n.n(_),N=n(2),T=n(104),M=n(50),B=n(14),L=n(4),S=n(65),z=n.n(S);function q(e){var t=Object.values(e).reduce((function(e,t){return 1===t?e+1:e}),0),n=Object.keys(e).length;return 0!==n?Math.round(100*t/n):0}function A(e){return Object.values(e).reduce((function(e,t){return e+t}),0)}var P,D,F,W,V,E,H,Z=Object(T.a)({apiKey:"AIzaSyBROQTEdmOzauZAaAnE_pkqyKfmEWszr5U",authDomain:"reddit-clone-rise.firebaseapp.com",projectId:"reddit-clone-rise",storageBucket:"reddit-clone-rise.appspot.com",messagingSenderId:"554493441837",appId:"1:554493441837:web:904c9a73cd643157f045a4"}),Q=Object(M.b)(Z),U=Object(B.g)(Z),R=B.k;function J(e){return K.apply(this,arguments)}function K(){return(K=Object(N.a)(I.a.mark((function e(t){var n,r,o,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,o=t.username,e.next=3,Object(M.a)(Q,n,r);case 3:return c=e.sent,e.next=6,$({user:c.user,username:o});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return G.apply(this,arguments)}function G(){return(G=Object(N.a)(I.a.mark((function e(t){var n,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.username,o=Object(B.d)(U,"users",n.uid),e.next=4,Object(B.l)(o,{uid:n.uid,email:n.email,username:r});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(N.a)(I.a.mark((function e(t){var n,r,o,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(B.b)(U,"users"),r=Object(B.i)(n,Object(B.m)("username","==",t)),e.next=4,Object(B.f)(r);case 4:return o=e.sent,c=o.empty,e.abrupt("return",c||"Username Taken!");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(N.a)(I.a.mark((function e(t){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.next=3,Object(M.d)(Q,n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return ne.apply(this,arguments)}function ne(){return(ne=Object(N.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.e)(Q);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(N.a)(I.a.mark((function e(t){var n,r,o,c,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(B.b)(U,"posts"),e.next=3,Object(B.a)(n,t);case 3:return r=e.sent,o=r.id,c=Object(B.d)(U,"posts",o),e.next=8,Object(B.e)(c);case 8:return a=e.sent,e.abrupt("return",Object(f.a)({id:o},a.data()));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(N.a)(I.a.mark((function e(t){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.f)(t);case 2:return n=e.sent,r=n.docs.map((function(e){return Object(f.a)({id:e.id,reference:e.ref},e.data())})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(N.a)(I.a.mark((function e(t){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(B.d)(U,"posts",t),e.next=3,Object(B.e)(n);case 3:return r=e.sent,e.abrupt("return",r.exists()?Object(f.a)({id:r.id},r.data()):null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(N.a)(I.a.mark((function e(){var t,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(B.b)(U,"posts"),n=Object(B.i)(t,Object(B.h)("score","desc")),e.next=4,ce(n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(N.a)(I.a.mark((function e(t){var n,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(B.b)(U,"posts"),r=Object(B.i)(n,Object(B.m)("author.username","==",t)),e.next=4,ce(r);case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(N.a)(I.a.mark((function e(t){var n,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(B.b)(U,"posts"),r=Object(B.i)(n,Object(B.m)("category","==",t),Object(B.h)("score","desc")),o=ce(r),e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(N.a)(I.a.mark((function e(t){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(B.d)(U,"posts",t),e.next=3,Object(B.c)(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return me.apply(this,arguments)}function me(){return(me=Object(N.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(B.b)(U,"posts",t.postId,"comments"),e.next=3,Object(B.a)(n,t);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(N.a)(I.a.mark((function e(t){var n,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(B.b)(U,"posts",t,"comments"),r=Object(B.i)(n,Object(B.h)("created","desc")),e.next=4,ce(r);case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){return je.apply(this,arguments)}function je(){return(je=Object(N.a)(I.a.mark((function e(t){var n,r,o,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,r=t.commentId,o=Object(B.d)(U,"posts",n,"comments",r),e.next=4,Object(B.c)(o);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(){return(xe=Object(N.a)(I.a.mark((function e(t){var n,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(B.b)(U,"posts",t,"comments"),e.next=3,Object(B.f)(n);case 3:return r=e.sent,o=r.size,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(N.a)(I.a.mark((function e(t){var n,r,o,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,r=t.userId,o=t.value,c=Object(B.d)(U,"posts",n),e.next=4,Object(B.j)(U,function(){var e=Object(N.a)(I.a.mark((function e(t){var n,a,i,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(c);case 2:(n=e.sent).exists()&&(a=Object(f.a)({},n.data().votes),a[r]===o?delete a[r]:a[r]=o,i=A(a),s=q(a),t.update(c,{votes:a,upvotePercentage:s,score:i}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}var ve=Object(b.c)(P||(P=Object(m.a)(["\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n"]))),we=Object(b.c)(D||(D=Object(m.a)(["\n  ",";\n  font-weight: 700;\n  letter-spacing: 0.05em;\n"])),ve),ye=Object(b.e)(F||(F=Object(m.a)(["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"]))),ke=Object(b.c)(W||(W=Object(m.a)(["\n  animation: "," 0.25s;\n"])),ye),Ce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="transition: ";return t.forEach((function(e,n){r=r.concat("".concat(e," 0.1s ease").concat(n===t.length-1?";":", "))})),r},_e=Object(b.c)(V||(V=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  padding: 0 16px;\n\n  @media (max-width: 425px) {\n    padding: 0 8px;\n  }\n"]))),Ie=function(e){return Object(b.c)(E||(E=Object(m.a)(["\n  ",";\n\n  text-underline-position: under;\n  text-decoration: none;\n  color: ",";\n\n  :hover {\n    ",";\n    color: ",";\n  }\n"])),Ce("color"),(function(e){return e.theme.normalText}),e.underline&&"text-decoration: underline",(function(e){return e.theme.accent}))},Ne=Object(b.c)(H||(H=Object(m.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),Te=b.d.svg.withConfig({displayName:"Icon",componentId:"sc-11v2i9f-0"})(["width:20px;height:20px;& path{",";fill:",";}@media (max-width:425px){width:18px;height:18px;}"],Ce("fill"),(function(e){return e.theme.mutedText})),Me=function(){return Object(v.jsx)(Te,{viewBox:"0 0 24 24",children:Object(v.jsx)("path",{d:"M6.03569223,7.86020138e-11 C4.77338857,1.342144 4,3.14939605 4,5.13728269 C4,9.27941831 7.35786438,12.6372827 11.5,12.6372827 C13.4878866,12.6372827 15.2951387,11.8638941 16.6372827,10.6015905 C15.5809549,14.0943073 12.3374493,16.6372827 8.5,16.6372827 C3.80557963,16.6372827 0,12.8317031 0,8.13728269 C0,4.29983338 2.54297542,1.05632781 6.03569223,0 Z",transform:"translate(4 4)"})})},Be=b.d.span.withConfig({displayName:"DarkButton",componentId:"sc-s4rxf9-0"})(["",";padding:0 8px;cursor:pointer;@media (hover:hover){:hover path{fill:",";}}"],_e,(function(e){return e.theme.accent}));function Le(){var e=p((function(e){return e.toggleTheme}));return Object(v.jsx)(Be,{onClick:e,children:Object(v.jsx)(Me,{})})}var Se=Object(b.d)(s.b).withConfig({displayName:"Logo",componentId:"sc-e7l0os-0"})(["",";margin-right:auto;font-size:24px;font-weight:500;color:",";text-decoration:none;@media (max-width:425px){padding:0 8px 0 16px;font-size:19px;}.reddit__logo{width:90px;}.reddit__logo1{width:100px;}"],_e,(function(e){return e.theme.normalText})),ze=function(){var e=p((function(e){return e.isDarkTheme}));return Object(v.jsx)(v.Fragment,{children:e?Object(v.jsxs)(Se,{to:"/",children:[Object(v.jsx)("svg",{className:"reddit__logoDark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 20",height:"35",width:"50",children:Object(v.jsxs)("g",{children:[Object(v.jsx)("circle",{fill:"#FF4500",cx:"10",cy:"10",r:"10"}),Object(v.jsx)("path",{fill:"#FFF",d:"M16.67,10A1.46,1.46,0,0,0,14.2,9a7.12,7.12,0,0,0-3.85-1.23L11,4.65,13.14,5.1a1,1,0,1,0,.13-0.61L10.82,4a0.31,0.31,0,0,0-.37.24L9.71,7.71a7.14,7.14,0,0,0-3.9,1.23A1.46,1.46,0,1,0,4.2,11.33a2.87,2.87,0,0,0,0,.44c0,2.24,2.61,4.06,5.83,4.06s5.83-1.82,5.83-4.06a2.87,2.87,0,0,0,0-.44A1.46,1.46,0,0,0,16.67,10Zm-10,1a1,1,0,1,1,1,1A1,1,0,0,1,6.67,11Zm5.81,2.75a3.84,3.84,0,0,1-2.47.77,3.84,3.84,0,0,1-2.47-.77,0.27,0.27,0,0,1,.38-0.38A3.27,3.27,0,0,0,10,14a3.28,3.28,0,0,0,2.09-.61A0.27,0.27,0,1,1,12.48,13.79Zm-0.18-1.71a1,1,0,1,1,1-1A1,1,0,0,1,12.29,12.08Z"})]})}),Object(v.jsx)("svg",{className:"reddit__logo",viewBox:"0 0 90 18",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsxs)("g",{fill:"#D7DADC",children:[Object(v.jsx)("path",{d:"M54.63,16.52V7.68h1a1,1,0,0,0,1.09-1V6.65a1,1,0,0,0-.93-1.12H54.63V3.88a1.23,1.23,0,0,0-1.12-1.23,1.2,1.2,0,0,0-1.27,1.11V5.55h-1a1,1,0,0,0-1.09,1v.07a1,1,0,0,0,.93,1.12h1.13v8.81a1.19,1.19,0,0,0,1.19,1.19h0a1.19,1.19,0,0,0,1.25-1.12A.17.17,0,0,0,54.63,16.52Z"}),Object(v.jsx)("circle",{fill:"#FF4500",cx:"47.26",cy:"3.44",r:"2.12"}),Object(v.jsx)("path",{d:"M48.44,7.81a1.19,1.19,0,1,0-2.38,0h0v8.71a1.19,1.19,0,0,0,2.38,0Z"}),Object(v.jsx)("path",{d:"M30.84,1.19A1.19,1.19,0,0,0,29.65,0h0a1.19,1.19,0,0,0-1.19,1.19V6.51a4.11,4.11,0,0,0-3-1.21c-3.1,0-5.69,2.85-5.69,6.35S22.28,18,25.42,18a4.26,4.26,0,0,0,3.1-1.23,1.17,1.17,0,0,0,1.47.8,1.2,1.2,0,0,0,.85-1.05ZM25.41,15.64c-1.83,0-3.32-1.77-3.32-4s1.48-4,3.32-4,3.31,1.78,3.31,4-1.47,3.95-3.3,3.95Z"}),Object(v.jsx)("path",{d:"M43.28,1.19A1.19,1.19,0,0,0,42.09,0h0a1.18,1.18,0,0,0-1.18,1.19h0V6.51a4.15,4.15,0,0,0-3-1.21c-3.1,0-5.69,2.85-5.69,6.35S34.72,18,37.86,18A4.26,4.26,0,0,0,41,16.77a1.17,1.17,0,0,0,1.47.8,1.19,1.19,0,0,0,.85-1.05ZM37.85,15.64c-1.83,0-3.31-1.77-3.31-4s1.47-4,3.31-4,3.31,1.78,3.31,4-1.47,3.95-3.3,3.95Z"}),Object(v.jsx)("path",{d:"M17.27,12.44a1.49,1.49,0,0,0,1.59-1.38v-.15a4.81,4.81,0,0,0-.1-.85A5.83,5.83,0,0,0,13.25,5.3c-3.1,0-5.69,2.85-5.69,6.35S10.11,18,13.25,18a5.66,5.66,0,0,0,4.39-1.84,1.23,1.23,0,0,0-.08-1.74l-.11-.09a1.29,1.29,0,0,0-1.58.17,3.91,3.91,0,0,1-2.62,1.12A3.54,3.54,0,0,1,10,12.44h7.27Zm-4-4.76a3.41,3.41,0,0,1,3.09,2.64H10.14A3.41,3.41,0,0,1,13.24,7.68Z"}),Object(v.jsx)("path",{d:"M7.68,6.53a1.19,1.19,0,0,0-1-1.18A4.56,4.56,0,0,0,2.39,6.91V6.75A1.2,1.2,0,0,0,0,6.75v9.77a1.23,1.23,0,0,0,1.12,1.24,1.19,1.19,0,0,0,1.26-1.1.66.66,0,0,0,0-.14v-5A3.62,3.62,0,0,1,5.81,7.7a4.87,4.87,0,0,1,.54,0h.24A1.18,1.18,0,0,0,7.68,6.53Z"})]})})]}):Object(v.jsx)(Se,{to:"/",children:Object(v.jsx)("img",{className:"reddit__logo1",src:"https://logodownload.org/wp-content/uploads/2018/02/reddit-logo.png",alt:""})})})},qe="active",Ae=Object(b.d)(s.c).attrs({activeClassName:qe}).withConfig({displayName:"NavLink",componentId:"sc-lwr2er-0"})(["",";position:relative;::after{",';content:"";position:absolute;opacity:0;}&.',"{background-color:",";::after{opacity:1;}}"],Ie,Ce("opacity"),qe,(function(e){return e.theme.activeBackground})),Pe=Object(b.d)(Ae).withConfig({displayName:"NavLink__HeaderNavLink",componentId:"sc-t5hfdw-0"})(["",";",";",";position:relative;cursor:pointer;color:",";::after{",";content:'';position:absolute;left:0;right:0;bottom:0;opacity:0;border-bottom:1px solid ",";}:hover::after{opacity:1;}&.active::after{left:0;right:0;bottom:0;border-bottom:3px solid ",";}"],_e,we,Ie,(function(e){return e.theme.mutedText}),Ce("opacity","border-bottom-width"),(function(e){return e.theme.accent}),(function(e){return e.theme.accent})),De=b.d.span.withConfig({displayName:"Text__HeaderUsernameText",componentId:"sc-16ww3b1-0"})(["",";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:",";"],we,(function(e){return e.theme.mutedText})),Fe=Object(b.d)(Pe).withConfig({displayName:"Username__Wrapper",componentId:"sc-aj10be-0"})(["flex-shrink:1;border-left:1px solid ",";border-right:1px solid ",";min-width:0;"],(function(e){return e.theme.border}),(function(e){return e.theme.border}));function We(e){var t=e.username;return Object(v.jsx)(Fe,{to:"/u/".concat(t),children:Object(v.jsx)(De,{children:t})})}var Ve=b.d.header.withConfig({displayName:"Header__Wrapper",componentId:"sc-3hjypf-0"})(["position:sticky;z-index:10;top:0;display:flex;align-items:stretch;margin-bottom:24px;box-shadow:0 4px 12px ",";border-bottom:1px solid ",";height:48px;padding:0 10vw;background-color:",";user-select:none;@media (max-width:425px){margin-bottom:16px;height:40px;}@media (max-width:768px){padding:0;}"],(function(e){return e.theme.shadow}),(function(e){return e.theme.border}),(function(e){return e.theme.foreground}));function Ee(e){var t=e.history,n=p((function(e){return[e.user,e.resetUser]}),z.a),r=Object(C.a)(n,2),a=r[0],i=r[1],s=Object(c.useMutation)(te,{onSuccess:function(){i(),t.push("/login"),Object(o.b)("Logged out",{icon:"\ud83d\udc4b"})},onError:function(){o.b.error("Error logging out")}});return Object(v.jsxs)(Ve,{children:[Object(v.jsx)(ze,{}),Object(v.jsx)(Le,{}),a?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(We,{username:a.username}),Object(v.jsx)(Pe,{onClick:s.mutate,to:"/",children:"log out"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Pe,{to:"/login",children:"log in"}),Object(v.jsx)(Pe,{to:"/signup",children:"sign up"})]})]})}var He,Ze,Qe=n(3),Ue=["programming","news","videos","fashion","music","funny"],Re=b.d.span.withConfig({displayName:"Error",componentId:"sc-okuu3o-0"})(["",";",";position:absolute;right:0;top:0;color:",";"],ke,ve,(function(e){return e.theme.error})),Je=n(66),Ke=Object(b.e)(["0%{transform:translate(-50%,-50%) rotate(0deg);}100%{transform:translate(-50%,-50%) rotate(360deg);}"]),$e=b.d.div.withConfig({displayName:"Spinner__LoadingIndicatorSpinner",componentId:"sc-1igdjly-0"})(["position:absolute;top:50%;left:50%;animation:"," 1s infinite linear;border:.3rem solid ",";border-top-color:",";border-radius:50%;width:48px;height:48px;"],Ke,(function(e){return e.theme.accent+"4d"}),(function(e){return e.theme.accent})),Ge=b.d.div.withConfig({displayName:"Wrapper__FormWrapper",componentId:"sc-9jot3l-0"})(["position:relative;overflow:hidden;margin:0 auto;border:1px solid ",";border-radius:2px;max-width:",";padding:24px;background-color:",";@media (max-width:768px){padding:16px;}@media (max-width:","){border-radius:0;border-left:none;border-right:none;}"],(function(e){return e.theme.border}),(function(e){return e.wide?"600px":"375px"}),(function(e){return e.theme.foreground}),(function(e){return e.wide?"600px":"375px"})),Xe=["className","wide"],Ye=b.d.form.withConfig({displayName:"Form__StyledForm",componentId:"sc-zrr49c-0"})(["",";display:flex;flex-direction:column;align-items:flex-start;",";"],Ce("filter"),(function(e){return e.loading&&"filter: grayscale(0.5) blur(5px) opacity(0.6); pointer-events: none"})),et=function(e){var t=e.className,n=e.wide,r=Object(Je.a)(e,Xe);return Object(v.jsxs)(Ge,{className:t,wide:n,children:[Object(v.jsx)(Ye,Object(f.a)({},r)),r.loading&&Object(v.jsx)($e,{})]})},tt=b.d.input.withConfig({displayName:"Input",componentId:"sc-10r82g2-0"})(["",";--border:",";--shadow:",";display:block;",";border-radius:3px;width:100%;padding:8px;background-color:",";font-size:15px;color:",";appearance:none;outline:none;resize:vertical;margin-bottom:5px;:hover,:focus{border:1px solid var(--border);}:focus{box-shadow:0 0 0 2px var(--shadow);}"],Ce("border","box-shadow"),(function(e){return e.error?e.theme.error:e.theme.accent}),(function(e){return e.error?e.theme.error+"4d":e.theme.accent+"4d"}),(function(e){return e.error?"\n    border: 1px solid var(--border)\n    ":"\n    border: 1px solid ".concat(e.theme.border,"\n  ")}),(function(e){return e.theme.inputBackground}),(function(e){return e.theme.normalText})),nt=b.d.div.withConfig({displayName:"InputWrapper",componentId:"sc-1udewbn-0"})(["position:relative;margin-bottom:24px;width:100%;"]),rt=b.d.label.withConfig({displayName:"Label",componentId:"sc-1avvla5-0"})(["",";display:block;margin-bottom:8px;color:",";"],ve,(function(e){return e.theme.mutedText})),ot=b.d.label(He||(He=Object(m.a)(["\n  ",";\n  ",";\n\n  display: block;\n  flex: 1 1 100%;\n  border: 1px solid ",";\n  width: 100%;\n  padding: 8px;\n  background: ",";\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  outline: 0;\n\n  @media (hover: hover) {\n    :hover {\n      background: ",";\n      color: #ffffff;\n    }\n  }\n\n  :first-of-type {\n    border-radius: 3px 0 0 3px;\n  }\n\n  :last-of-type {\n    border-radius: 0 3px 3px 0;\n  }\n\n  :not(:first-of-type) {\n    border-left: 0;\n  }\n"])),Ce("color","background-color"),we,(function(e){return e.theme.accent}),(function(e){return e.active?e.theme.accent:"transparent"}),(function(e){return e.active?"#ffffff":e.theme.accent}),(function(e){return e.theme.accent})),ct=function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{type:"radio",name:"radiogroup",id:e.value,onChange:e.onClick}),Object(v.jsx)(ot,{htmlFor:e.value,active:e.active,children:e.label})]})},at=b.d.div(Ze||(Ze=Object(m.a)(['\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n\n  input[type="radio"] {\n    display: none;\n  }\n'])));var it=b.d.div.withConfig({displayName:"SelectWrapper",componentId:"sc-1ozbzaz-0"})(["position:relative;",";::after{content:'';position:absolute;top:50%;right:0;transform:translate(-150%,calc(-50% - 2px)) rotate(45deg);border-bottom:2px solid ",";border-right:2px solid ",";width:8px;height:8px;pointer-events:none;}"],(function(e){return e.flex&&"flex: 1"}),(function(e){return e.theme.accent}),(function(e){return e.theme.accent})),st=b.d.button.withConfig({displayName:"Button",componentId:"sc-1vknmjn-0"})(["",";",";border:none;border-radius:3px;padding:8px 24px;background-color:",";cursor:pointer;color:#ffffff;outline:none;:hover{filter:brightness(110%);}:active{filter:brightness(90%);}:focus{box-shadow:0 0 0 2px ",";}"],Ce("filter","box-shadow"),we,(function(e){return e.theme.accent}),(function(e){return e.theme.accent+"4d"})),dt=Object(b.d)(st).withConfig({displayName:"SubmitButton",componentId:"sc-iar0vd-0"})(["align-self:flex-end;"]),ut=n(40),lt=n(105),pt=n.n(lt),bt=[{label:"link",value:"link"},{label:"text",value:"text"}];function mt(e){var t,n,r,o,a=e.history,i=Object(L.useState)("text"),s=Object(C.a)(i,2),d=s[0],u=s[1],l=p((function(e){return e.user})),b=Object(ut.a)({mode:"onBlur"}),m=b.register,h=b.handleSubmit,j=b.formState.errors,x=Object(c.useMutation)(re,{onSuccess:function(e){var t=e.category,n=e.id;a.push("/a/".concat(t,"/").concat(n))}});return Object(v.jsxs)(et,{onSubmit:h((function(e){var t=e.title,n=e.url,r=e.text,o=e.category;if(!l)throw new Re("Login to create post");var c={category:o,type:d,title:t,views:0,score:1,created:R(),upvotePercentage:100,votes:Object(Qe.a)({},l.uid,1),author:{uid:l.uid,username:l.username}};"text"===d?c.text=r:c.url=n,x.mutate(c)})),wide:!0,children:[Object(v.jsx)(nt,{children:Object(v.jsx)(at,{children:bt.map((function(e,t){return Object(L.createElement)(ct,Object(f.a)(Object(f.a)({},e),{},{key:t,onClick:function(){return u(e.value)},active:e.value===d}))}))})}),Object(v.jsxs)(nt,{children:[Object(v.jsx)(rt,{children:"category"}),Object(v.jsx)(it,{children:Object(v.jsx)(tt,Object(f.a)(Object(f.a)({},m("category",{required:"Select a category"})),{},{type:"select",as:"select",defaulValue:Ue[0],children:Ue.map((function(e,t){return Object(v.jsx)("option",{value:e,children:e},t)}))}))}),Object(v.jsx)(Re,{children:null===(t=j.category)||void 0===t?void 0:t.message})]}),Object(v.jsxs)(nt,{children:[Object(v.jsx)(rt,{children:"title"}),Object(v.jsx)(tt,Object(f.a)(Object(f.a)({},m("title",{required:"Title is required",minLength:{value:5,message:"Must be at least 5 characters"},maxLength:{value:50,message:"Must be less than 50 characters"}})),{},{type:"text",placeholder:"title"})),Object(v.jsx)(Re,{children:null===(n=j.title)||void 0===n?void 0:n.message})]}),"link"===d&&Object(v.jsxs)(nt,{children:[Object(v.jsx)(rt,{children:"url"}),Object(v.jsx)(tt,Object(f.a)(Object(f.a)({},m("url",{validate:function(e){return pt()(e||"Provide a valid URL")}})),{},{placeholeder:"url"})),Object(v.jsx)(Re,{children:null===(r=j.url)||void 0===r?void 0:r.message})]}),"text"===d&&Object(v.jsxs)(nt,{children:[Object(v.jsx)(rt,{children:"text"}),Object(v.jsx)(tt,Object(f.a)(Object(f.a)({},m("text",{required:"Text is required",minLength:{value:5,message:"Must be at least 5 characters"},maxLength:{value:1e4,message:"Must be less than 10,000 characters"}})),{},{as:"textarea",placeholder:"text",rows:"6"})),Object(v.jsx)(Re,{children:null===(o=j.text)||void 0===o?void 0:o.message})]}),Object(v.jsx)(dt,{type:"submit",children:"create post"})]})}var ht=Object(b.d)(st).withConfig({displayName:"CreatePostButton",componentId:"sc-qw45n3-0"})(["display:flex;align-items:center;border-radius:0;padding:0 16px;text-decoration:none;"]);function ft(){return Object(v.jsx)(ht,{as:s.b,to:"/createpost",children:"create post"})}var jt=n(18),xt=b.d.select.withConfig({displayName:"Dropdown",componentId:"sc-b3lr7m-0"})(["border:none;border-radius:0;width:100%;padding:8px 16px;background-color:",";font-size:15px;color:",";appearance:none;"],(function(e){return e.theme.foreground}),(function(e){return e.theme.normalText}));function gt(e){var t=e.category,n=e.history;return Object(v.jsx)(it,{flex:!0,children:Object(v.jsx)(xt,{value:t,onChange:function(e){var r=e.target.value;if(r!==t){var o="all"===r?"/":"/a/".concat(r);n.push(o)}},children:["all"].concat(Object(jt.a)(Ue)).map((function(e,t){return Object(v.jsx)("option",{value:e,children:e},t)}))})})}var Ot=b.d.nav.withConfig({displayName:"CategoryMenu__Menu",componentId:"sc-1bkjpes-0"})(["display:none;border:1px solid ",";border-left:none;border-right:none;@media (max-width:768px){display:flex;}"],(function(e){return e.theme.border}));function vt(){var e=p((function(e){return e.user}));return Object(v.jsxs)(Ot,{children:[Object(v.jsx)(gt,{}),e&&Object(v.jsx)(ft,{})]})}var wt=b.d.span.withConfig({displayName:"Header",componentId:"sc-18s88rn-0"})(["",";display:block;padding:12px;text-align:center;color:",";"],we,(function(e){return e.theme.mutedText}));function yt(){return Object(v.jsx)(wt,{children:"categories"})}var kt=Object(b.d)(Ae).withConfig({displayName:"Item",componentId:"sc-4gp15o-0"})(["padding:12px;font-size:15px;text-decoration:none;color:",";::after{left:-1px;top:0;bottom:0;border-left:3px solid ",";}"],(function(e){return e.theme.normalText}),(function(e){return e.theme.accent}));function Ct(e){var t=e.category,n="all"===t;return Object(v.jsx)(kt,{exact:n,to:n?"/":"/a/".concat(t),children:t})}var _t=b.d.nav.withConfig({displayName:"CategoryList",componentId:"sc-68ce1d-0"})(["display:flex;flex-direction:column;"]);function It(){return Object(v.jsxs)(_t,{children:[Object(v.jsx)(yt,{}),["all"].concat(Object(jt.a)(Ue)).map((function(e,t){return Object(v.jsx)(Ct,{category:e},t)}))]})}var Nt=Object(b.d)(st).withConfig({displayName:"CreatePostButton",componentId:"sc-2z3cr0-0"})(["border-radius:2px 2px 0 0;padding:16px;text-decoration:none;text-align:center;"]);function Tt(){return Object(v.jsx)(Nt,{as:s.b,to:"/createpost",children:"create post"})}var Mt=b.d.aside.withConfig({displayName:"Sidebar__Wrapper",componentId:"sc-xjlzc6-0"})(["display:flex;flex-direction:column;flex-basis:240px;margin-left:24px;border:1px solid ",";border-radius:2px;background-color:",";@media (max-width:768px){display:none;}"],(function(e){return e.theme.border}),(function(e){return e.theme.foreground}));function Bt(){var e=p((function(e){return e.user}));return Object(v.jsxs)(Mt,{children:[e&&Object(v.jsx)(Tt,{}),Object(v.jsx)(It,{})]})}var Lt=Object(b.d)(dt).withConfig({displayName:"SubmitButton__StyledSubmitButton",componentId:"sc-5yih0t-0"})(["margin:4px;padding:4px 12px;"]);function St(){return Object(v.jsx)(Lt,{type:"submit",children:"submit"})}var zt=Object(b.d)(et).withConfig({displayName:"CommentForm__StyledForm",componentId:"sc-1n94y1-0"})(["",";margin-top:-1px;border:1px solid ",";border-radius:0 0 2px 2px;max-width:none;padding:0;@media (hover:hover){:hover{border:1px solid ",";}}:focus-within{border:1px solid ",";box-shadow:0 0 0 2px ",";}@media (max-width:768px){margin-top:-1px;border-radius:0;border-left:none;border-right:none;:hover,:focus-within{border-left:none;border-right:none;}}"],Ce("border","box-shadow"),(function(e){return e.theme.border}),(function(e){return e.theme.accent}),(function(e){return e.theme.accent}),(function(e){return e.theme.accent+"4d"})),qt=Object(b.d)(tt).withConfig({displayName:"CommentForm__CommentFormTextArea",componentId:"sc-1n94y1-1"})(["margin:0;border:none;border-bottom:1px solid ",";border-radius:0;resize:none;:hover,:focus{border:none;border-bottom:1px solid ",";box-shadow:none;}"],(function(e){return e.theme.border}),(function(e){return e.theme.border}));function At(e){var t,n=e.postId,r=p((function(e){return e.user})),a=Object(ut.a)({mode:"onBlur"}),i=a.register,s=a.handleSubmit,d=a.reset,u=a.formState.errors,l=Object(c.useQueryClient)(),b=Object(c.useMutation)(be,{onSuccess:function(){l.invalidateQueries(["comments",n]),o.b.success("Comment created"),d()}});return Object(v.jsxs)(zt,{onSubmit:s((function(e){var t=e.commentText;b.mutate({postId:n,body:t,created:R(),author:{username:r.username,uid:r.uid}})})),children:[Object(v.jsx)(qt,Object(f.a)(Object(f.a)({},i("commentText",{required:"Comment text is required",minLength:{value:5,message:"Must be at least 5 characters"},maxLength:{value:1e4,message:"Must be less than 10,000 characters"}})),{},{as:"textarea",placeholder:"enter your comment",rows:"6"})),Object(v.jsx)(Re,{children:null===(t=u.commentText)||void 0===t?void 0:t.message}),Object(v.jsx)(St,{})]})}var Pt=n(106),Dt=n.n(Pt),Ft=n(107),Wt=n.n(Ft),Vt={h1:1.75,h2:1.5,h3:1.25,h4:1.1,h5:.9,h6:.75},Et=b.d.span.withConfig({displayName:"heading__Heading",componentId:"sc-185x978-0"})(["",";& + h1,& + h2,& + h3,& + h4,& + h5,& + h6{margin-top:0;}"],(function(e){return t=e.as,Object(b.c)(["margin-top:1em;margin-bottom:0.75em;line-height:1;font-size:","em;font-weight:500;"],Vt[t]);var t})),Ht=function(e){var t="h".concat(e.level);return Object(v.jsx)(Et,{as:t,children:e.children})},Zt=b.d.a.withConfig({displayName:"link__Link",componentId:"sc-kott84-0"})(["",";text-decoration:underline;color:",";:hover{filter:brightness(110%);}"],Ce("color"),(function(e){return e.theme.accent})),Qt=function(e){return Object(v.jsx)(Zt,Object(f.a)({},e))},Ut=b.d.pre.withConfig({displayName:"code__Pre",componentId:"sc-9j2yha-0"})(["border-radius:2px;padding:12px 16px;background-color:",";overflow-x:scroll;"],(function(e){return e.theme.pageBackground})),Rt=function(e){return Object(v.jsx)(Ut,{children:Object(v.jsx)("code",{children:e.value})})},Jt=b.d.code.withConfig({displayName:"inlineCode__InlineCode",componentId:"sc-co5489-0"})(["border-radius:2px;padding:0.2em 0.4em;background-color:",";"],(function(e){return e.theme.pageBackground})),Kt=function(e){return Object(v.jsx)(Jt,Object(f.a)({},e))},$t=b.d.table.withConfig({displayName:"table__Table",componentId:"sc-ykrgd3-0"})(["border-collapse:collapse;"]),Gt=function(e){return Object(v.jsx)($t,Object(f.a)({},e))},Xt=Object(b.c)(["text-align:center;font-weight:600;"]),Yt=b.d.td.withConfig({displayName:"tableCell__TableCell",componentId:"sc-16p56hy-0"})(["",";line-height:2;"],(function(e){return t="th"===e.as,Object(b.c)(["",";border:1px solid ",";padding:0 0.75em;"],t&&Xt,(function(e){return e.theme.border}));var t})),en=function(e){return e.isHeader?Object(v.jsx)(Yt,{as:"th",children:e.children}):Object(v.jsx)(Yt,{children:e.children})},tn=b.d.hr.withConfig({displayName:"thematicBreak__ThematicBreak",componentId:"sc-12h2g7k-0"})(["margin:1em 0;border:none;border-bottom:1px solid ",";"],(function(e){return e.theme.border})),nn=function(){return Object(v.jsx)(tn,{})},rn=b.d.ul.withConfig({displayName:"list__List",componentId:"sc-146mrn9-0"})(["margin-block-start:0.5em;margin-block-end:0.5em;margin-inline-start:0px;margin-inline-end:0px;padding-inline-start:1em;padding-left:2em;line-height:1.75;"]),on={heading:Ht,link:Qt,code:Rt,inlineCode:Kt,table:Gt,tableCell:en,thematicBreak:nn,list:function(e){return e.ordered?Object(v.jsx)(rn,{as:"ol",children:e.children}):Object(v.jsx)(rn,{children:e.children})},html:function(e){return Object(v.jsx)("p",{children:e.value})}},cn=Object(b.d)(Dt.a).withConfig({displayName:"Markdown__StyledReactMarkdown",componentId:"sc-1sj26at-0"})(["color:",";font-size:15px;line-height:1.5;p,ol,ul,pre,table{margin-bottom:0.5em;}code{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:14px;line-height:1.25;}>:last-child{margin-bottom:0;}>:first-child{margin-top:0;}"],(function(e){return e.theme.normalText})),an=["text","paragraph","emphasis","strong","delete","heading","link","code","table","tableHead","tableBody","tableRow","tableCell","html","thematicBreak","list","listItem","inlineCode"],sn=function(e){return Object(v.jsx)(cn,{source:e.children,plugins:[Wt.a],allowedTypes:an,renderers:on,unwrapDisallowed:!0})},dn=b.d.div.withConfig({displayName:"Content",componentId:"sc-1tpzl3a-0"})(["padding:12px;"]);function un(e){var t=e.children;return Object(v.jsx)(dn,{children:Object(v.jsx)(sn,{children:t})})}var ln=Object(b.d)(s.b).withConfig({displayName:"Author__StyledLink",componentId:"sc-1jwhis4-0"})(["",";font-weight:500;color:",";"],Ie,(function(e){return e.theme.normalText}));function pn(e){var t=e.username;return Object(v.jsx)(ln,{to:"/u/".concat(t),children:t})}var bn=b.d.button.withConfig({displayName:"DeleteButton__Button",componentId:"sc-15j5vb-0"})(["",";border:none;outline:none;background-color:transparent;cursor:pointer;font-size:13px;color:",";margin-left:auto;"],Ie,(function(e){return e.theme.normalText})),mn=function(e){return Object(v.jsx)(bn,{onClick:e.onClick,children:"delete"})},hn=n(43),fn=n.n(hn),jn=b.d.div.withConfig({displayName:"Detail__Wrapper",componentId:"sc-yimywa-0"})(["display:flex;border-bottom:1px solid ",";padding:8px;font-size:13px;"],(function(e){return e.theme.border})),xn=b.d.span.withConfig({displayName:"Detail__Timestamp",componentId:"sc-yimywa-1"})(["margin-left:4px;color:",";"],(function(e){return e.theme.mutedText}));function gn(e){var t=e.id,n=e.author,r=e.created,a=p((function(e){return e.user})),s=(null===a||void 0===a?void 0:a.uid)===n.uid,d=Object(i.h)().postId,u=Object(c.useQueryClient)(),l=Object(c.useMutation)(fe,{onSuccess:function(){u.invalidateQueries(["comments",d]),o.b.success("Comment deleted")}});return Object(v.jsxs)(jn,{children:[Object(v.jsx)(pn,{username:n.username}),Object(v.jsx)(xn,{children:fn()(r.toDate()).fromNow()}),s&&Object(v.jsx)(mn,{onClick:function(){return l.mutate({postId:d,commentId:t})}})]})}var On=["body"],vn=b.d.div.withConfig({displayName:"Item__Wrapper",componentId:"sc-1yi3cyu-0"})(["margin-bottom:8px;border:1px solid ",";border-radius:2px;background-color:",";@media (max-width:768px){border-left:none;border-right:none;border-radius:0;}"],(function(e){return e.theme.border}),(function(e){return e.theme.foreground}));function wn(e){var t=e.comment,n=t.body,r=Object(Je.a)(t,On);return Object(v.jsxs)(vn,{children:[Object(v.jsx)(gn,Object(f.a)({},r)),Object(v.jsx)(un,{children:n})]})}var yn=b.d.ul.withConfig({displayName:"CommentList__List",componentId:"sc-16k4p1p-0"})(["margin-top:16px;list-style:none;"]);function kn(e){var t=e.comments;return Object(v.jsx)(yn,{children:t.map((function(e){return Object(v.jsx)(wn,{comment:e},e.id)}))})}var Cn=b.d.div.withConfig({displayName:"Detail__Wrapper",componentId:"sc-1vuntb5-0"})(["font-size:13px;margin-top:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;& > *{margin-right:4px;}& > a{",";}& > span{color:",";}"],Ie,(function(e){return e.theme.mutedText}));function _n(e){var t=e.post,n=t.category,r=t.id,o=t.author,a=t.created,i=Object(c.useQuery)(["commentCount",r],(function(){return function(e){return xe.apply(this,arguments)}(r)})),d=i.data;return Object(v.jsxs)(Cn,{children:[Object(v.jsxs)(s.b,{to:"/a/".concat(n,"/").concat(r),children:[d," comment",1!==d?"s":""]}),Object(v.jsxs)(s.b,{to:"/a/".concat(n),children:["/a/",n]}),Object(v.jsx)("span",{children:"by"}),Object(v.jsx)(pn,{username:o.username}),Object(v.jsx)("span",{children:fn()(a.toDate()).fromNow()})]})}var In=b.d.div.withConfig({displayName:"FullText__Wrapper",componentId:"sc-fu7huc-0"})(["margin:8px -8px;border:1px solid ",";border-left:none;border-right:none;padding:8px;background-color:",";"],(function(e){return e.theme.border}),(function(e){return e.theme.inputBackground})),Nn=function(e){return Object(v.jsx)(In,{children:Object(v.jsx)(sn,{children:e.children})})},Tn=b.d.div.withConfig({displayName:"Preview__PostContentPreview",componentId:"sc-9qu4a3-0"})(["",";max-width:800px;padding-bottom:1px;font-size:13px;line-height:19px;color:",";"],Ne,(function(e){return e.theme.mutedText})),Mn=b.d.div.withConfig({displayName:"Title__Wrapper",componentId:"sc-xmcdxu-0"})(["display:flex;*{",";display:block;font-size:15px;line-height:21px;font-weight:500;text-decoration:none;color:",";",";}a{",";}"],Ne,(function(e){return e.theme.normalText}),(function(e){return e.full&&"white-space: unset"}),Ie({underline:!0}));function Bn(e){var t=e.post,n=e.full;return Object(v.jsx)(Mn,{full:n,children:Ln(t,n)})}function Ln(e,t){var n=e.type,r=e.url,o=e.title,c=e.id,a=e.category;switch(n){case"link":return Object(v.jsx)("a",{href:r,children:o});case"text":return t?Object(v.jsx)("span",{children:o}):Object(v.jsx)(s.b,{to:"/a/".concat(a,"/").concat(c),children:o})}}var Sn=b.d.div.withConfig({displayName:"Content__Wrapper",componentId:"sc-1mtecw0-0"})(["display:flex;flex:1;flex-direction:column;border-left:1px solid ",";padding:8px;min-width:0;"],(function(e){return e.theme.border}));function zn(e){var t=e.post,n=e.full;return Object(v.jsxs)(Sn,{children:[Object(v.jsx)(Bn,{post:t,full:n}),qn(t,n),Object(v.jsx)(_n,{post:t})]})}function qn(e,t){var n=e.type,r=e.url,o=e.text;switch(n){case"link":return Object(v.jsx)(Tn,{children:r});case"text":return t?Object(v.jsx)(Nn,{children:o}):Object(v.jsx)(Tn,{children:o});default:return}}var An=b.d.button.withConfig({displayName:"Button__PostVoteButton",componentId:"sc-vb9uk0-0"})(["",";border:0;border-radius:3px;height:22px;width:22px;background-color:transparent;cursor:pointer;:focus{outline:0;}:hover{background-color:",";}::after{",';content:"";position:relative;left:6px;display:block;transform:rotate(-45deg);width:8px;height:8px;}',""],Ce("background-color"),(function(e){return e.theme.voteButtonHover}),Ce("border"),(function(e){return!e.canVote&&"\n    cursor: default;\n    pointer-events: none;\n  "})),Pn=Object(b.d)(An).withConfig({displayName:"Downvote__PostVoteDownvote",componentId:"sc-1kmsysl-0"})(["--iconColor:",";::after{border-bottom:2px solid var(--iconColor);border-left:2px solid var(--iconColor);top:-2px;}"],(function(e){return e.didVote?e.theme.downvote:e.theme.vote})),Dn=Object(b.d)(An).withConfig({displayName:"Upvote__PostVoteUpvote",componentId:"sc-xiwz49-0"})(["--iconColor:",";::after{border-top:2px solid var(--iconColor);border-right:2px solid var(--iconColor);top:3px;}"],(function(e){return e.didVote?e.theme.upvote:e.theme.vote})),Fn=b.d.div.withConfig({displayName:"Vote__Wrapper",componentId:"sc-1uldj72-0"})(["display:flex;flex-direction:column;align-items:center;width:30px;padding:4px;font-size:12px;line-height:25px;font-weight:500;text-align:center;color:",";"],(function(e){return e.theme.normalText}));function Wn(e){var t=e.post,n=p((function(e){return e.user})),r=null===n||void 0===n?void 0:n.uid,o=t.id,a=t.score,s=t.votes,d=1===s[r],u=-1===s[r],l=Object(c.useQueryClient)(),b=Object(i.g)(),m=Object(c.useMutation)(ge,{onSuccess:function(){var e="/"===b.pathname;l.invalidateQueries(e?"posts":["post",o])}});return Object(v.jsxs)(Fn,{children:[Object(v.jsx)(Dn,{onClick:function(){m.mutate({userId:r,postId:o,value:1})},canVote:n,didVote:d}),Object(v.jsx)("span",{children:a}),Object(v.jsx)(Pn,{onClick:function(){m.mutate({userId:r,postId:o,value:-1})},canVote:n,didVote:u})]})}var Vn=b.d.div.withConfig({displayName:"Post__Wrapper",componentId:"sc-1rh5jf2-0"})(["display:flex;height:auto;background-color:",";"],(function(e){return e.theme.foreground}));function En(e){var t=e.post,n=e.full;return Object(v.jsxs)(Vn,{children:[Object(v.jsx)(Wn,{post:t}),Object(v.jsx)(zn,{post:t,full:n})]})}var Hn=b.d.div.withConfig({displayName:"Empty__Wrapper",componentId:"sc-1o50y1l-0"})(["",";",";border:1px solid ",";border-radius:2px;padding:48px 0;background-color:",";text-align:center;color:",";@media (max-width:768px){",";border-left:none;border-right:none;border-radius:0;}"],ve,(function(e){return e.comments&&"margin-top: 16px"}),(function(e){return e.theme.border}),(function(e){return e.theme.foreground}),(function(e){return e.theme.mutedText}),(function(e){return!e.comments&&"margin-top: -1px"}));function Zn(e){var t=e.comments,n=t?"no comments":"there's nothing here...";return Object(v.jsx)(Hn,{comments:t,children:n})}var Qn=b.d.div.withConfig({displayName:"Box",componentId:"sc-1l5969b-0"})(["position:relative;margin:48px auto 0;border:1px solid ",";border-radius:2px;width:72px;height:72px;background-color:",";"],(function(e){return e.theme.border}),(function(e){return e.theme.foreground}));function Un(){return Object(v.jsx)(Qn,{children:Object(v.jsx)($e,{})})}var Rn=b.d.div.withConfig({displayName:"PostDetail__Wrapper",componentId:"sc-xm4waz-0"})(["display:flex;margin-top:-1px;border:1px solid ",";",";padding:8px;background-color:",";font-size:13px;color:",";@media (max-width:768px){border-left:none;border-right:none;}"],(function(e){return e.theme.border}),(function(e){return e.round&&"border-radius: 0 0 2px 2px"}),(function(e){return e.theme.foreground}),(function(e){return e.theme.mutedText})),Jn=b.d.div.withConfig({displayName:"PostDetail__PostWrapper",componentId:"sc-xm4waz-1"})(["overflow:hidden;border:1px solid ",";border-radius:2px 2px 0 0;@media (max-width:768px){margin-bottom:0;border-top:none;border-left:none;border-right:none;border-radius:0;}"],(function(e){return e.theme.border}));function Kn(){var e=Object(i.h)().postId;!function(e){Object(L.useEffect)((function(){}),[e])}(e);var t=p((function(e){return e.user})),n=Object(c.useQuery)(["post",e],(function(){return function(e){return ie.apply(this,arguments)}(e)})),r=n.data;return n.isLoading?Object(v.jsx)(Un,{}):r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Xn,{post:r}),Object(v.jsx)($n,{postId:e,post:r,user:t}),t&&Object(v.jsx)(At,{postId:e}),Object(v.jsx)(Gn,{postId:e})]}):Object(v.jsx)(Zn,{})}function $n(e){var t=e.user,n=e.postId,r=e.post,a=r.author,s=r.views,d=r.upvotePercentage,u=Object(i.f)(),l=Object(c.useMutation)(le,{onSuccess:function(){u.push("/"),o.b.success("Post deleted")}}),p=a.uid===(null===t||void 0===t?void 0:t.uid);return Object(v.jsxs)(Rn,{round:!t,children:[Object(v.jsxs)("span",{children:[s," views"]}),Object(v.jsx)("span",{children:"\xa0 | \xa0"}),Object(v.jsxs)("span",{children:[d,"% upvoted"]}),p&&Object(v.jsx)(mn,{onClick:function(){return l.mutate(n)}})]})}function Gn(e){var t=e.postId,n=Object(c.useQuery)(["comments",t],(function(){return function(e){return he.apply(this,arguments)}(t)})),r=n.data;return n.isLoading||!(null===r||void 0===r?void 0:r.length)?Object(v.jsx)(Zn,{comments:!0}):Object(v.jsx)(kn,{comments:r})}function Xn(e){var t=e.post;return Object(v.jsx)(Jn,{children:Object(v.jsx)(En,{post:t,full:!0})})}var Yn=b.d.ul.withConfig({displayName:"PostList__List",componentId:"sc-1wjpqif-0"})(["list-style:none;border:1px solid ",";border-radius:2px;@media (max-width:768px){border-top:none;border-left:none;border-right:none;border-radius:0;}"],(function(e){return e.theme.border})),er=b.d.li.withConfig({displayName:"PostList__Item",componentId:"sc-1wjpqif-1"})([":not(:first-child){border-top:1px solid ",";}"],(function(e){return e.theme.border}));function tr(){var e=Object(i.h)(),t=e.username,n=e.category,r=Object(c.useQuery)(["posts",t,n],(function(){return t?function(e){return de.apply(this,arguments)}(t):n?function(e){return ue.apply(this,arguments)}(n):function(){return se.apply(this,arguments)}()})),o=r.data;return r.isLoading?Object(v.jsx)(Un,{}):o&&o.length?Object(v.jsx)(Yn,{children:o.map((function(e){return Object(v.jsx)(nr,{post:e},e.id)}))}):Object(v.jsx)(Zn,{})}function nr(e){var t=e.post;return Object(v.jsx)(er,{children:Object(v.jsx)(En,{post:t,full:!1})})}var rr=b.d.div.withConfig({displayName:"Home__Wrapper",componentId:"sc-diw67a-0"})(["display:flex;align-items:flex-start;margin:0 10vw;@media (max-width:1024px){margin:0 5vw;}@media (max-width:768px){display:block;margin:0;}"]),or=b.d.main.withConfig({displayName:"Home__HomeMainSection",componentId:"sc-diw67a-1"})(["flex:1;min-width:0;"]);function cr(){return Object(v.jsxs)(rr,{children:[Object(v.jsxs)(or,{children:[Object(v.jsx)(i.a,{component:vt}),Object(v.jsx)(i.a,{exact:!0,path:"/",component:tr}),Object(v.jsx)(i.a,{exact:!0,path:"/a/:category",component:tr}),Object(v.jsx)(i.a,{exact:!0,path:"/u/:username",component:tr}),Object(v.jsx)(i.a,{exact:!0,path:"/a/:category/:postId",component:Kn})]}),Object(v.jsx)(i.a,{component:Bt})]})}function ar(e){var t,n,r=e.history,a=Object(ut.a)({mode:"onBlur"}),i=a.register,s=a.handleSubmit,d=a.formState.errors,u=Object(c.useMutation)(Y,{onSuccess:function(){r.replace("/"),o.b.success("Log in successful")},onError:function(e){var t=null===e||void 0===e?void 0:e.code;switch(t){case"auth/wrong-password":t="Password is incorrect";break;case"auth/user-not-found":t="User does not exist"}o.b.error(t)}});return Object(v.jsxs)(et,{onSubmit:s((function(e){var t=e.email,n=e.password;u.mutate({email:t,password:n})})),children:[Object(v.jsxs)(nt,{children:[Object(v.jsx)(rt,{children:"email"}),Object(v.jsx)(tt,Object(f.a)(Object(f.a)({},i("email",{required:"Email is required",maxLength:{value:30,message:"Must be less than 30 characters"}})),{},{type:"email"})),Object(v.jsx)(Re,{children:null===(t=d.email)||void 0===t?void 0:t.message})]}),Object(v.jsxs)(nt,{children:[Object(v.jsx)(rt,{children:"password"}),Object(v.jsx)(tt,Object(f.a)(Object(f.a)({},i("password",{required:"Password is required",minLength:{value:8,message:"Must be at least 8 characters"},maxLength:{value:30,message:"Must be less than 30 characters"}})),{},{type:"password"})),Object(v.jsx)(Re,{children:null===(n=d.password)||void 0===n?void 0:n.message})]}),Object(v.jsx)(dt,{type:"submit",children:"log in"})]})}function ir(e){var t,n,r,a,i=e.history,s=Object(ut.a)({mode:"onBlur"}),d=s.register,u=s.getValues,l=s.handleSubmit,p=s.formState.errors,b=Object(c.useMutation)(J,{onSuccess:function(){i.replace("/"),window.location.reload(),o.b.success("Sign up successful")},onError:function(e){o.b.error(e.message)}});return Object(v.jsxs)(et,{onSubmit:l((function(e){var t=e.email,n=e.password,r=e.username;b.mutate({email:t,password:n,username:r})})),children:[Object(v.jsxs)(nt,{children:[Object(v.jsx)(rt,{children:"username"}),Object(v.jsx)(tt,Object(f.a)(Object(f.a)({},d("username",{required:"Username is required",minLength:{value:5,message:"Must be at least 5 characters"},maxLength:{value:20,message:"Must be less than 20 characters"},validate:function(e){return function(e){return X.apply(this,arguments)}(e)}})),{},{type:"text"})),Object(v.jsx)(Re,{children:null===(t=p.username)||void 0===t?void 0:t.message})]}),Object(v.jsxs)(nt,{children:[Object(v.jsx)(rt,{children:"email"}),Object(v.jsx)(tt,Object(f.a)(Object(f.a)({},d("email",{required:"Email is required",maxLength:{value:30,message:"Must be less than 30 characters"}})),{},{type:"email"})),Object(v.jsx)(Re,{children:null===(n=p.email)||void 0===n?void 0:n.message})]}),Object(v.jsxs)(nt,{children:[Object(v.jsx)(rt,{children:"password"}),Object(v.jsx)(tt,Object(f.a)(Object(f.a)({},d("password",{required:"Password is required",minLength:{value:8,message:"Must be at least 8 characters"},maxLength:{value:30,message:"Must be less than 30 characters"}})),{},{type:"password"})),Object(v.jsx)(Re,{children:null===(r=p.password)||void 0===r?void 0:r.message})]}),Object(v.jsxs)(nt,{children:[Object(v.jsx)(rt,{children:"confirm password"}),Object(v.jsx)(tt,Object(f.a)(Object(f.a)({},d("confirm",{required:"Confirm is required",minLength:{value:8,message:"Must be at least 8 characters"},maxLength:{value:30,message:"Must be less than 30 characters"},validate:function(e){return u().password===e||"Passwords should match!"}})),{},{type:"password"})),Object(v.jsx)(Re,{children:null===(a=p.confirm)||void 0===a?void 0:a.message})]}),Object(v.jsx)(dt,{type:"submit",children:"sign up"})]})}function sr(){return function(){var e=p((function(e){return[e.setUser,e.resetUser]}),z.a),t=Object(C.a)(e,2),n=t[0],r=t[1];Object(L.useEffect)((function(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(N.a)(I.a.mark((function e(t){var o,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}r(),e.next=9;break;case 4:return o=Object(B.d)(U,"users",t.uid),e.next=7,Object(B.e)(o);case 7:(c=e.sent).exists()?n(c.data()):r();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var o=Object(M.c)(Q,function(){var t=Object(N.a)(I.a.mark((function t(n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return o()}}),[n,r])}(),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(i.a,{component:Ee}),Object(v.jsxs)(i.c,{children:[Object(v.jsx)(i.a,{path:"/signup",component:ir}),Object(v.jsx)(i.a,{path:"/login",component:ar}),Object(v.jsx)(i.a,{path:"/createpost",component:mt}),Object(v.jsx)(i.a,{path:"/",component:cr})]})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dr=n(108),ur=n.n(dr);fn.a.extend(ur.a),fn.a.locale("en",{relativeTime:{future:"%s",past:"%s ago",s:"%ds",ss:"%ds",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1M",MM:"%dM",y:"1y",yy:"%dy"}}),k.a.render(Object(v.jsx)(w,{children:Object(v.jsx)(sr,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[207,1,2]]]);
//# sourceMappingURL=main.15589643.chunk.js.map